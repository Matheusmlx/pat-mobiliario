{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@azinformatica/loki/src/components/file/AzFileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@azinformatica/loki/src/components/file/AzFileUpload.vue","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    accept: {\n      type: String,\n      default: '*'\n    },\n    repository: {\n      type: String,\n      required: true\n    },\n    thumbnail: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: '200px'\n    },\n    multiple: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      uploadFieldName: 'file'\n    };\n  },\n  methods: {\n    calcFileSize: function calcFileSize(bytes, unit) {\n      var k = 1024;\n      return parseFloat((bytes / Math.pow(k, unit)).toFixed(2));\n    },\n    createFormData: function createFormData(file) {\n      var formData = new FormData();\n      formData.append(this.uploadFieldName, file);\n      formData.append('repository', this.repository);\n      formData.append('thumbnail', this.thumbnail);\n      return formData;\n    },\n    createPayload: function createPayload(file) {\n      return {\n        formData: this.createFormData(file),\n        filename: file.name\n      };\n    },\n    getMaxSizeConfig: function getMaxSizeConfig() {\n      var fileConfig = this.$store.state.loki.file;\n      var maxSize = fileConfig.maxSize.replace(/([A-Za-z]+)/g, '');\n      var unit = ['B', 'KB', 'MB', 'GB', 'TB'].indexOf(fileConfig.maxSize.replace(/\\d+/g, '').toUpperCase());\n      return {\n        maxSize: maxSize,\n        unit: unit\n      };\n    },\n    isFileBiggerThanExpected: function isFileBiggerThanExpected(file) {\n      var _this$getMaxSizeConfi = this.getMaxSizeConfig(),\n          maxSize = _this$getMaxSizeConfi.maxSize,\n          unit = _this$getMaxSizeConfi.unit;\n\n      var fileSize = this.calcFileSize(file.size, unit);\n      return fileSize > maxSize;\n    },\n    onDropFiles: function onDropFiles(eventItems) {\n      if (!Object.keys(eventItems).length) {\n        return;\n      }\n\n      var files = [];\n      Object.keys(eventItems).forEach(function (key) {\n        var item = eventItems[key];\n\n        if (item.kind === 'file') {\n          files.push(item.getAsFile());\n        }\n      });\n      this.uploadFiles(files);\n    },\n    onSelectFiles: function onSelectFiles(fileList) {\n      if (!fileList.length) {\n        return;\n      }\n\n      this.uploadFiles(fileList);\n      this.resetSelectedFiles();\n    },\n    openFileSelector: function openFileSelector() {\n      document.getElementById('azFileSelector').click();\n    },\n    uploadFiles: function uploadFiles(fileList) {\n      var _this = this;\n\n      Array.from(Array(fileList.length).keys()).map(function (x) {\n        var file = fileList[x];\n\n        if (_this.isFileBiggerThanExpected(file)) {\n          _this.throwFileExceedMaxLimitSizeEvent(file);\n        } else {\n          var payload = _this.createPayload(file);\n\n          _this.$store.dispatch('uploadFile', payload);\n        }\n      });\n    },\n    resetSelectedFiles: function resetSelectedFiles() {\n      document.getElementById('azFileSelector').value = '';\n    },\n    throwFileExceedMaxLimitSizeEvent: function throwFileExceedMaxLimitSizeEvent(file) {\n      this.$emit('error', {\n        type: 'FILE_EXCEEDED_MAX_SIZE_LIMIT',\n        filename: file.name\n      });\n    }\n  }\n};",{"version":3,"sources":["AzFileUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <form enctype=\"multipart/form-data\" novalidate>\n            <div\n                class=\"az-drop-file\"\n                :style=\"{ height: height }\"\n                @drop.prevent=\"onDropFiles($event.dataTransfer.items)\"\n                @dragover.prevent=\"\"\n            >\n                <input\n                    id=\"azFileSelector\"\n                    type=\"file\"\n                    :multiple=\"multiple\"\n                    class=\"input-file\"\n                    :name=\"uploadFieldName\"\n                    :accept=\"accept\"\n                    @change=\"onSelectFiles($event.target.files)\"\n                />\n                <div class=\"center\">\n                    <slot></slot>\n                </div>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        accept: {\n            type: String,\n            default: '*'\n        },\n        repository: {\n            type: String,\n            required: true\n        },\n        thumbnail: {\n            type: Boolean,\n            default: false\n        },\n        height: {\n            type: String,\n            default: '200px'\n        },\n        multiple: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data() {\n        return {\n            uploadFieldName: 'file'\n        }\n    },\n    methods: {\n        calcFileSize(bytes, unit) {\n            const k = 1024\n            return parseFloat((bytes / Math.pow(k, unit)).toFixed(2))\n        },\n        createFormData(file) {\n            const formData = new FormData()\n            formData.append(this.uploadFieldName, file)\n            formData.append('repository', this.repository)\n            formData.append('thumbnail', this.thumbnail)\n            return formData\n        },\n        createPayload(file) {\n            return {\n                formData: this.createFormData(file),\n                filename: file.name\n            }\n        },\n        getMaxSizeConfig() {\n            const fileConfig = this.$store.state.loki.file\n            const maxSize = fileConfig.maxSize.replace(/([A-Za-z]+)/g, '')\n            const unit = ['B', 'KB', 'MB', 'GB', 'TB'].indexOf(fileConfig.maxSize.replace(/\\d+/g, '').toUpperCase())\n            return { maxSize, unit }\n        },\n        isFileBiggerThanExpected(file) {\n            const { maxSize, unit } = this.getMaxSizeConfig()\n            const fileSize = this.calcFileSize(file.size, unit)\n            return fileSize > maxSize\n        },\n        onDropFiles(eventItems) {\n            if (!Object.keys(eventItems).length) {\n                return\n            }\n            const files = []\n            Object.keys(eventItems).forEach(key => {\n                const item = eventItems[key]\n                if (item.kind === 'file') {\n                    files.push(item.getAsFile())\n                }\n            })\n            this.uploadFiles(files)\n        },\n        onSelectFiles(fileList) {\n            if (!fileList.length) {\n                return\n            }\n            this.uploadFiles(fileList)\n            this.resetSelectedFiles()\n        },\n        openFileSelector() {\n            document.getElementById('azFileSelector').click()\n        },\n        uploadFiles(fileList) {\n            Array.from(Array(fileList.length).keys()).map(x => {\n                const file = fileList[x]\n                if (this.isFileBiggerThanExpected(file)) {\n                    this.throwFileExceedMaxLimitSizeEvent(file)\n                } else {\n                    const payload = this.createPayload(file)\n                    this.$store.dispatch('uploadFile', payload)\n                }\n            })\n        },\n        resetSelectedFiles() {\n            document.getElementById('azFileSelector').value = ''\n        },\n        throwFileExceedMaxLimitSizeEvent(file) {\n            this.$emit('error', {\n                type: 'FILE_EXCEEDED_MAX_SIZE_LIMIT',\n                filename: file.name\n            })\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.az-drop-file\n    border: 2px dashed #ccc\n    margin: 10px 0\n    padding: 30px 0 20px\n    align-content: center\n    align-items: center\n    text-align: center\n    background-color: #eeeeee\n    color: #7b7b7b\n    display: flex\n    position: relative\n\n    &:hover\n        border-color: #939393\n\n    .center\n        margin: 0 auto\n        padding: 0\n\n    .input-file\n        opacity: 0\n        position: absolute\n        left: 0\n        top: 0\n        width: 10px\n        height: 10px\n        z-index: 1\n\n    &__big\n        padding: 70px 0 60px !important\n\n    p\n        width: 100%\n        color: #777\n        font-size: 13px\n        margin-bottom: 0\n        margin-top: 15px\n\n    a\n        background-color: #d28a2C\n        color: white\n        padding: 10px 15px 10px 10px\n        border-radius: 2px\n        font-size: 13px\n        &:hover\n            background-color: lighten(#d28a2C, 10%)\n            border: 1px solid lighten(#d28a2C, 10%) !important\n\n        i\n            color: white !important\n            position: relative\n            top: 2px\n            font-size: 18px\n            margin-right: 5px\n</style>\n"],"sourceRoot":"node_modules/@azinformatica/loki/src/components/file"}]}