{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/configuracao/reserva/global/intervalo/ModalAdicionarIntervalos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/configuracao/reserva/global/intervalo/ModalAdicionarIntervalos.vue","mtime":1620653318968},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@babel/runtime/regenerator\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapMutations } from 'vuex';\nimport { actionTypes, mutationTypes } from '@/core/constants';\nimport ModalAdicionarIntervalosCabecalho from './ModalAdicionarIntervalosCabecalho';\nimport ModalAdicionarIntervalosForm from './ModalAdicionarIntervalosForm';\nimport ModalAdicionarIntervalosAcoes from './ModalAdicionarIntervalosAcoes';\nimport Paginacao from '@/views/components/tabela/Paginacao';\nimport _ from 'lodash';\nexport default {\n  name: 'ModalAdicionarIntervalos',\n  components: {\n    ModalAdicionarIntervalosAcoes: ModalAdicionarIntervalosAcoes,\n    ModalAdicionarIntervalosCabecalho: ModalAdicionarIntervalosCabecalho,\n    Paginacao: Paginacao,\n    ModalAdicionarIntervalosForm: ModalAdicionarIntervalosForm\n  },\n  data: function data() {\n    return {\n      dialog: true,\n      colunasTabela: [],\n      reservaId: this.$route.params.id,\n      reserva: {},\n      reservaIntervalos: [],\n      reservaIntervalosSelecionados: [],\n      maiorNumeroFimIntervalo: 0,\n      paginas: 0,\n      totalItens: 0,\n      filtrosInterno: this.getFiltros(),\n      paginacaoInterna: this.getPaginacao()\n    };\n  },\n  watch: {\n    paginacaoInterna: {\n      handler: function handler(novoValor) {\n        this.tratarEventoPaginar(novoValor);\n      },\n      deep: true\n    },\n    quantidadeSelecionadaIgualZero: function quantidadeSelecionadaIgualZero(val) {\n      if (val) {\n        this.maiorNumeroFimIntervalo = 0;\n      }\n    }\n  },\n  computed: {\n    quantidadeSelecionadaIgualZero: function quantidadeSelecionadaIgualZero() {\n      return this.quantidadeSelecionados === 0;\n    },\n    existeIntervalosSemPreenchimento: function existeIntervalosSemPreenchimento() {\n      return this.reservaIntervalosSelecionados.filter(function (reservaIntervalo) {\n        return !reservaIntervalo.quantidadeReservada || !reservaIntervalo.numeroInicio || !reservaIntervalo.numeroFim;\n      }).length > 0;\n    },\n    quantidadeSelecionados: function quantidadeSelecionados() {\n      return this.reservaIntervalosSelecionados.length;\n    },\n    restante: function restante() {\n      if (this.reservaIntervalosSelecionados.length === 0) {\n        return this.reserva.quantidadeRestante;\n      } else {\n        var totalQuantidadeInserida = 0;\n        this.reservaIntervalosSelecionados.forEach(function (reservaIntervalo) {\n          if (reservaIntervalo.quantidadeReservada && reservaIntervalo.quantidadeReservada > 0) {\n            totalQuantidadeInserida += parseInt(reservaIntervalo.quantidadeReservada);\n          }\n        });\n\n        if (totalQuantidadeInserida > this.reserva.quantidadeRestante) {\n          return this.reserva.quantidadeRestante;\n        }\n\n        return this.reserva.quantidadeRestante - totalQuantidadeInserida;\n      }\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.criarColunasTabela();\n              _context.next = 3;\n              return this.buscarReserva();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions([actionTypes.CONFIGURACAO.RESERVA.GLOBAL.BUSCAR_TODOS_ORGAOS_PAGINADO, actionTypes.CONFIGURACAO.RESERVA.GLOBAL.BUSCAR_RESERVA_POR_ID, actionTypes.CONFIGURACAO.RESERVA.GLOBAL.INTERVALO.BUSCAR_INTERVALO, actionTypes.CONFIGURACAO.RESERVA.GLOBAL.INTERVALO.SALVAR_INTERVALO])), mapMutations([mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.SET_FILTRO_BUSCA_ORGAOS_RESERVA, mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.SET_PAGINACAO_BUSCA_ORGAOS_RESERVA, mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.RESETA_PAGE_ORGAOS_RESERVA])), {}, {\n    criarColunasTabela: function criarColunasTabela() {\n      this.colunasTabela = this.criarColunas(4, ['Descrição', 'Preenchimento', 'Quantidade', 'Intervalo'], ['descricao', 'preenchimento', 'quantidadeReservada', 'intervalo'], [], [], [], 'gray--text');\n    },\n    buscarReserva: function () {\n      var _buscarReserva = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.buscarReservaPorId(this.reservaId);\n\n              case 2:\n                this.reserva = _context2.sent;\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function buscarReserva() {\n        return _buscarReserva.apply(this, arguments);\n      }\n\n      return buscarReserva;\n    }(),\n    buscar: function () {\n      var _buscar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.setFiltroBuscaOrgaosReserva(this.getFiltrosInterno());\n                _context3.next = 3;\n                return this.buscarTodosOrgaosReserva();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function buscar() {\n        return _buscar.apply(this, arguments);\n      }\n\n      return buscar;\n    }(),\n    tratarEventoBuscaSimples: function () {\n      var _tratarEventoBuscaSimples = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(valor) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.resetaPageOrgaosReserva();\n                this.filtrosInterno.conteudo.value = valor;\n                _context4.next = 4;\n                return this.buscar();\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function tratarEventoBuscaSimples(_x) {\n        return _tratarEventoBuscaSimples.apply(this, arguments);\n      }\n\n      return tratarEventoBuscaSimples;\n    }(),\n    buscarTodosOrgaosReserva: function () {\n      var _buscarTodosOrgaosReserva = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var resultado;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.buscarTodosOrgaosPaginado();\n\n              case 2:\n                resultado = _context5.sent;\n\n                if (resultado) {\n                  this.orgaos = resultado.items;\n                  this.paginas = resultado.totalPages;\n                  this.totalItens = resultado.totalElements;\n                  this.criarReservaIntervalos(this.orgaos);\n                  this.atualizaReservaIntervalosComSelecionados();\n                }\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function buscarTodosOrgaosReserva() {\n        return _buscarTodosOrgaosReserva.apply(this, arguments);\n      }\n\n      return buscarTodosOrgaosReserva;\n    }(),\n    criarReservaIntervalos: function criarReservaIntervalos(orgaos) {\n      var _this = this;\n\n      this.reservaIntervalos = [];\n      orgaos.forEach(function (orgao) {\n        var reservaIntervalo = {\n          reservaId: _this.$route.params.id,\n          orgaoId: orgao.id,\n          descricao: orgao.descricao,\n          quantidadeReservada: null,\n          numeroInicio: '',\n          numeroFim: '',\n          preenchimento: 'AUTOMATICO',\n          selecionado: false\n        };\n\n        _this.reservaIntervalos.push(reservaIntervalo);\n      });\n    },\n    atualizaReservaIntervalosComSelecionados: function atualizaReservaIntervalosComSelecionados() {\n      var _this2 = this;\n\n      var _loop = function _loop(index) {\n        var reservaIntervaloSelecionado = _this2.reservaIntervalosSelecionados.find(function (selecionado) {\n          return selecionado.orgaoId === _this2.reservaIntervalos[index].orgaoId;\n        });\n\n        if (reservaIntervaloSelecionado) {\n          _this2.reservaIntervalos[index] = reservaIntervaloSelecionado;\n        }\n      };\n\n      for (var index = 0; index < this.reservaIntervalos.length; index++) {\n        _loop(index);\n      }\n    },\n    trtarSelecionarTodasReservaIntervalos: function trtarSelecionarTodasReservaIntervalos(props) {\n      if (!props.value) {\n        this.selecionarTodasReservasIntervalos();\n      } else {\n        this.deselecionaTodasReservasIntervalos();\n      }\n\n      this.reservaIntervalos.forEach(function (reservaIntervalo) {\n        return reservaIntervalo.selecionado = !props.value;\n      });\n    },\n    selecionarTodasReservasIntervalos: function selecionarTodasReservasIntervalos() {\n      var _this$reservaInterval;\n\n      var reservasIntervaloNaoSelecionadas = this.reservaIntervalos.filter(function (reservaIntervalo) {\n        return !reservaIntervalo.selecionado;\n      });\n\n      (_this$reservaInterval = this.reservaIntervalosSelecionados).push.apply(_this$reservaInterval, _toConsumableArray(reservasIntervaloNaoSelecionadas));\n    },\n    deselecionaTodasReservasIntervalos: function deselecionaTodasReservasIntervalos() {\n      var _this3 = this;\n\n      this.reservaIntervalos.forEach(function (reservaIntervalo) {\n        _this3.deselecionaReservaIntervalo(reservaIntervalo);\n      });\n    },\n    deselecionaReservaIntervalo: function deselecionaReservaIntervalo(reservaIntervalo) {\n      this.excluirReservaIntervaloDosSelecionados(reservaIntervalo);\n      this.resetarReservaIntervalos(reservaIntervalo);\n    },\n    excluirReservaIntervaloDosSelecionados: function excluirReservaIntervaloDosSelecionados(reservaIntervalo) {\n      var indexReservaIntervaloExcluir = this.reservaIntervalosSelecionados.findIndex(function (selecionado) {\n        return selecionado.orgaoId === reservaIntervalo.orgaoId;\n      });\n      this.reservaIntervalosSelecionados.splice(indexReservaIntervaloExcluir, 1);\n    },\n    resetarReservaIntervalos: function resetarReservaIntervalos(reservaIntervalo) {\n      var indexReservaIntervaloAtualizar = this.reservaIntervalos.findIndex(function (reservaInter) {\n        return reservaInter.orgaoId === reservaIntervalo.orgaoId;\n      });\n      this.reservaIntervalos[indexReservaIntervaloAtualizar].preenchimento = 'AUTOMATICO';\n      this.reservaIntervalos[indexReservaIntervaloAtualizar].quantidadeReservada = null;\n      this.reservaIntervalos[indexReservaIntervaloAtualizar].numeroInicio = '';\n      this.reservaIntervalos[indexReservaIntervaloAtualizar].numeroFim = '';\n      this.reservaIntervalos[indexReservaIntervaloAtualizar].selecionado = false;\n    },\n    buscarProximoIntervalo: function () {\n      var _buscarProximoIntervalo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(reservaInter) {\n        var _this4 = this;\n\n        var entidadeBuscaIntervalo, intervalo;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                entidadeBuscaIntervalo = this.criarEntidadeBuscaIntervalo(reservaInter);\n                _context6.next = 3;\n                return this.buscarIntervalo(entidadeBuscaIntervalo);\n\n              case 3:\n                intervalo = _context6.sent;\n\n                if (intervalo) {\n                  this.reservaIntervalos.forEach(function (reservaIntervalo) {\n                    if (reservaIntervalo.orgaoId === reservaInter.orgaoId) {\n                      reservaIntervalo.numeroInicio = intervalo.numeroInicio;\n                      reservaIntervalo.numeroFim = intervalo.numeroFim;\n\n                      _this4.verificarMaiorNumeroFimIntervalo(reservaIntervalo.numeroFim);\n                    }\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function buscarProximoIntervalo(_x2) {\n        return _buscarProximoIntervalo.apply(this, arguments);\n      }\n\n      return buscarProximoIntervalo;\n    }(),\n    verificarMaiorNumeroFimIntervalo: function verificarMaiorNumeroFimIntervalo(numeroFim) {\n      if (numeroFim) {\n        if (this.maiorNumeroFimIntervalo < numeroFim) {\n          this.maiorNumeroFimIntervalo = numeroFim;\n        }\n      } else {\n        this.maiorNumeroFimIntervalo = Math.max.apply(Math, this.reservaIntervalosSelecionados.map(function (selecionado) {\n          return selecionado.numeroFim;\n        }));\n      }\n    },\n    criarEntidadeBuscaIntervalo: function criarEntidadeBuscaIntervalo(reservaInter) {\n      return {\n        items: this.reservaIntervalosSelecionados,\n        reservaId: reservaInter.reservaId,\n        orgaoId: reservaInter.orgaoId,\n        quantidadeReservada: reservaInter.quantidadeReservada\n      };\n    },\n    selecionaReservaIntervalo: function selecionaReservaIntervalo(reservaIntervalo) {\n      var indexReservaIntervaloSelecionada = this.reservaIntervalosSelecionados.findIndex(function (selecionado) {\n        return selecionado.orgaoId === reservaIntervalo.orgaoId;\n      });\n\n      if (indexReservaIntervaloSelecionada !== -1) {\n        this.reservaIntervalosSelecionados[indexReservaIntervaloSelecionada] = reservaIntervalo;\n      } else {\n        this.reservaIntervalosSelecionados.push(reservaIntervalo);\n      }\n    },\n    tratarEventoAdicionar: function () {\n      var _tratarEventoAdicionar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.validarDadosFormulario();\n\n              case 2:\n                if (!_context7.sent) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                _context7.next = 5;\n                return this.salvarIntervalo({\n                  reservaId: this.reservaId,\n                  intervalos: this.reservaIntervalosSelecionados\n                });\n\n              case 5:\n                this.recarregarDadosReserva();\n                _context7.next = 8;\n                return this.fecharModal();\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function tratarEventoAdicionar() {\n        return _tratarEventoAdicionar.apply(this, arguments);\n      }\n\n      return tratarEventoAdicionar;\n    }(),\n    validarDadosFormulario: function () {\n      var _validarDadosFormulario = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.$validator.validateAll();\n\n              case 2:\n                return _context8.abrupt(\"return\", _context8.sent);\n\n              case 3:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function validarDadosFormulario() {\n        return _validarDadosFormulario.apply(this, arguments);\n      }\n\n      return validarDadosFormulario;\n    }(),\n    fecharModal: function () {\n      var _fecharModal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.$router.replace({\n                  name: 'ReservaEdicao',\n                  params: {\n                    id: this.$route.params.id\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function fecharModal() {\n        return _fecharModal.apply(this, arguments);\n      }\n\n      return fecharModal;\n    }(),\n    tratarEventoPaginar: function tratarEventoPaginar(paginacao) {\n      this.setPaginacaoBuscaOrgaosReserva(paginacao);\n      this.buscar();\n    },\n    resetaPage: function resetaPage() {\n      this.resetaPageOrgaosReserva();\n    },\n    getPaginacao: function getPaginacao() {\n      return _.cloneDeep(this.$store.state.reserva.todosOrgaos.paginacao);\n    },\n    getFiltros: function getFiltros() {\n      return _.cloneDeep(this.$store.state.reserva.todosOrgaos.filtros);\n    },\n    getFiltrosInterno: function getFiltrosInterno() {\n      return _.cloneDeep(this.filtrosInterno);\n    },\n    tratarEventoRemoverFiltro: function () {\n      var _tratarEventoRemoverFiltro = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(propriedade) {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (this.filtrosInterno[propriedade]) {\n                  this.filtrosInterno[propriedade].value = this.filtrosInterno[propriedade].default;\n                }\n\n                _context10.next = 3;\n                return this.buscar();\n\n              case 3:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function tratarEventoRemoverFiltro(_x3) {\n        return _tratarEventoRemoverFiltro.apply(this, arguments);\n      }\n\n      return tratarEventoRemoverFiltro;\n    }(),\n    recarregarDadosReserva: function recarregarDadosReserva() {\n      this.$emit('recarregarDadosReserva');\n    }\n  })\n};",{"version":3,"sources":["ModalAdicionarIntervalos.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-dialog persistent v-model=\"dialog\" width=\"1100\">\n    <v-card>\n\n      <modal-adicionar-intervalos-cabecalho\n          :reserva=\"reserva\"\n          :filtros-interno=\"filtrosInterno\"\n          :restante=\"restante\"\n          @fecharModal=\"fecharModal\"\n      />\n\n      <v-responsive class=\"overflow-y-auto\" max-height=\"50vh\">\n        <v-data-table\n            :headers=\"colunasTabela\"\n            :items=\"reservaIntervalos\"\n            :options.sync=\"paginacaoInterna\"\n            :server-items-length=\"totalItens\"\n            item-key=\"id\"\n            ref=\"table\"\n            class=\"pr-tabela-listagem-orgaos-reserva \"\n            hide-default-footer\n            show-select\n            no-data-text=\"Não há órgãos a serem adicionados\">\n          <template v-slot:header.data-table-select=\"{ on, props }\">\n            <v-simple-checkbox\n                :ripple=\"false\"\n                color=\"grey\"\n                v-bind=\"props\"\n                v-on=\"on\"\n                @click=\"trtarSelecionarTodasReservaIntervalos(props)\"/>\n          </template>\n          <template v-slot:item=\"item\">\n            <modal-adicionar-intervalos-form\n                :reservaIntervalo=\"item.item\"\n                :maior-numero-fim-intervalo=\"maiorNumeroFimIntervalo\"\n                @buscarProximoIntervalo=\"buscarProximoIntervalo\"\n                @selecionaReservaIntervalo=\"selecionaReservaIntervalo\"\n                @deselecionaReservaIntervalo=\"deselecionaReservaIntervalo\"\n                @atualizarMaiorNumeroFimIntervalo=\"verificarMaiorNumeroFimIntervalo\"/>\n          </template>\n        </v-data-table>\n      </v-responsive>\n\n      <paginacao class=\"ml-5 mr-5\" :paginacao-interna=\"paginacaoInterna\" :paginas=\"paginas\"\n                 @resetaPage=\"resetaPage\"/>\n\n\n      <v-divider></v-divider>\n      <modal-adicionar-intervalos-acoes\n          :quantidade-selecionada-igual-zero=\"quantidadeSelecionadaIgualZero\"\n          :existe-intervalos-sem-preenchimento=\"existeIntervalosSemPreenchimento\"\n          :quantidade-selecionados=\"quantidadeSelecionados\"\n          @adicionar=\"tratarEventoAdicionar\"\n          @fecharModal=\"fecharModal\"\n      />\n    </v-card>\n  </v-dialog>\n\n</template>\n\n<script>\n\n    import { mapActions, mapMutations } from 'vuex'\n    import { actionTypes, mutationTypes } from '@/core/constants'\n    import ModalAdicionarIntervalosCabecalho from './ModalAdicionarIntervalosCabecalho'\n    import ModalAdicionarIntervalosForm from './ModalAdicionarIntervalosForm'\n    import ModalAdicionarIntervalosAcoes from './ModalAdicionarIntervalosAcoes'\n    import Paginacao from '@/views/components/tabela/Paginacao'\n    import _ from 'lodash'\n\n    export default {\n        name: 'ModalAdicionarIntervalos',\n        components: {\n            ModalAdicionarIntervalosAcoes,\n            ModalAdicionarIntervalosCabecalho,\n            Paginacao,\n            ModalAdicionarIntervalosForm,\n        },\n        data () {\n            return {\n                dialog: true,\n                colunasTabela: [],\n                reservaId: this.$route.params.id,\n                reserva: {},\n                reservaIntervalos: [],\n                reservaIntervalosSelecionados: [],\n                maiorNumeroFimIntervalo: 0,\n                paginas: 0,\n                totalItens: 0,\n                filtrosInterno: this.getFiltros(),\n                paginacaoInterna: this.getPaginacao(),\n            }\n        },\n        watch: {\n            paginacaoInterna: {\n                handler (novoValor) {\n                    this.tratarEventoPaginar(novoValor)\n                },\n                deep: true,\n            },\n            quantidadeSelecionadaIgualZero(val) {\n                if(val){\n                    this.maiorNumeroFimIntervalo = 0\n                }\n            }\n        },\n        computed: {\n            quantidadeSelecionadaIgualZero () {\n                return this.quantidadeSelecionados === 0\n            },\n            existeIntervalosSemPreenchimento () {\n                return this.reservaIntervalosSelecionados.filter(\n                    reservaIntervalo => !reservaIntervalo.quantidadeReservada || !reservaIntervalo.numeroInicio ||\n                        !reservaIntervalo.numeroFim).length > 0\n            },\n            quantidadeSelecionados () {\n                return this.reservaIntervalosSelecionados.length\n            },\n            restante () {\n                if (this.reservaIntervalosSelecionados.length === 0) {\n                    return this.reserva.quantidadeRestante\n                } else {\n                    let totalQuantidadeInserida = 0\n                    this.reservaIntervalosSelecionados.forEach(reservaIntervalo => {\n                        if (reservaIntervalo.quantidadeReservada && reservaIntervalo.quantidadeReservada > 0) {\n                            totalQuantidadeInserida += parseInt(reservaIntervalo.quantidadeReservada)\n                        }\n                    })\n                    if (totalQuantidadeInserida > this.reserva.quantidadeRestante) {\n                        return this.reserva.quantidadeRestante\n                    }\n                    return this.reserva.quantidadeRestante - totalQuantidadeInserida\n                }\n            },\n        },\n        async mounted () {\n            this.criarColunasTabela()\n            await this.buscarReserva()\n        },\n        methods: {\n            ...mapActions([\n                actionTypes.CONFIGURACAO.RESERVA.GLOBAL.BUSCAR_TODOS_ORGAOS_PAGINADO,\n                actionTypes.CONFIGURACAO.RESERVA.GLOBAL.BUSCAR_RESERVA_POR_ID,\n                actionTypes.CONFIGURACAO.RESERVA.GLOBAL.INTERVALO.BUSCAR_INTERVALO,\n                actionTypes.CONFIGURACAO.RESERVA.GLOBAL.INTERVALO.SALVAR_INTERVALO,\n            ]),\n            ...mapMutations([\n                mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.SET_FILTRO_BUSCA_ORGAOS_RESERVA,\n                mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.SET_PAGINACAO_BUSCA_ORGAOS_RESERVA,\n                mutationTypes.CONFIGURACAO.RESERVA.GLOBAL.RESETA_PAGE_ORGAOS_RESERVA,\n            ]),\n            criarColunasTabela () {\n                this.colunasTabela = this.criarColunas(\n                    4,\n                    ['Descrição', 'Preenchimento', 'Quantidade', 'Intervalo'],\n                    ['descricao', 'preenchimento', 'quantidadeReservada', 'intervalo'],\n                    [],\n                    [],\n                    [],\n                    'gray--text')\n            },\n            async buscarReserva () {\n                this.reserva = await this.buscarReservaPorId(this.reservaId)\n            },\n            async buscar () {\n                this.setFiltroBuscaOrgaosReserva(this.getFiltrosInterno())\n                await this.buscarTodosOrgaosReserva()\n            },\n            async tratarEventoBuscaSimples (valor) {\n                this.resetaPageOrgaosReserva()\n                this.filtrosInterno.conteudo.value = valor\n                await this.buscar()\n            },\n            async buscarTodosOrgaosReserva () {\n                const resultado = await this.buscarTodosOrgaosPaginado()\n                if (resultado) {\n                    this.orgaos = resultado.items\n                    this.paginas = resultado.totalPages\n                    this.totalItens = resultado.totalElements\n                    this.criarReservaIntervalos(this.orgaos)\n                    this.atualizaReservaIntervalosComSelecionados()\n                }\n            },\n            criarReservaIntervalos (orgaos) {\n                this.reservaIntervalos = []\n                orgaos.forEach(orgao => {\n                    let reservaIntervalo = {\n                        reservaId: this.$route.params.id,\n                        orgaoId: orgao.id,\n                        descricao: orgao.descricao,\n                        quantidadeReservada: null,\n                        numeroInicio: '',\n                        numeroFim: '',\n                        preenchimento: 'AUTOMATICO',\n                        selecionado: false,\n                    }\n                    this.reservaIntervalos.push(reservaIntervalo)\n                })\n            },\n            atualizaReservaIntervalosComSelecionados () {\n                for (let index = 0; index < this.reservaIntervalos.length; index++) {\n                    const reservaIntervaloSelecionado = this.reservaIntervalosSelecionados.find(\n                        selecionado => selecionado.orgaoId === this.reservaIntervalos[index].orgaoId)\n                    if (reservaIntervaloSelecionado) {\n                        this.reservaIntervalos[index] = reservaIntervaloSelecionado\n                    }\n                }\n            },\n            trtarSelecionarTodasReservaIntervalos (props) {\n                if(!props.value) {\n                    this.selecionarTodasReservasIntervalos()\n                }else{\n                    this.deselecionaTodasReservasIntervalos()\n                }\n                this.reservaIntervalos.forEach(reservaIntervalo => reservaIntervalo.selecionado = !props.value)\n            },\n            selecionarTodasReservasIntervalos(){\n                const reservasIntervaloNaoSelecionadas = this.reservaIntervalos.filter( reservaIntervalo => !reservaIntervalo.selecionado)\n                this.reservaIntervalosSelecionados.push(...reservasIntervaloNaoSelecionadas)\n            },\n            deselecionaTodasReservasIntervalos() {\n                this.reservaIntervalos.forEach( reservaIntervalo => {\n                    this.deselecionaReservaIntervalo(reservaIntervalo)\n                })\n            },\n            deselecionaReservaIntervalo (reservaIntervalo) {\n                this.excluirReservaIntervaloDosSelecionados(reservaIntervalo)\n                this.resetarReservaIntervalos(reservaIntervalo)\n            },\n            excluirReservaIntervaloDosSelecionados (reservaIntervalo) {\n                const indexReservaIntervaloExcluir = this.reservaIntervalosSelecionados.findIndex(\n                    selecionado => selecionado.orgaoId === reservaIntervalo.orgaoId)\n                this.reservaIntervalosSelecionados.splice(indexReservaIntervaloExcluir, 1)\n            },\n            resetarReservaIntervalos (reservaIntervalo) {\n                const indexReservaIntervaloAtualizar = this.reservaIntervalos.findIndex(\n                    reservaInter => reservaInter.orgaoId === reservaIntervalo.orgaoId)\n                this.reservaIntervalos[indexReservaIntervaloAtualizar].preenchimento = 'AUTOMATICO'\n                this.reservaIntervalos[indexReservaIntervaloAtualizar].quantidadeReservada = null\n                this.reservaIntervalos[indexReservaIntervaloAtualizar].numeroInicio = ''\n                this.reservaIntervalos[indexReservaIntervaloAtualizar].numeroFim = ''\n                this.reservaIntervalos[indexReservaIntervaloAtualizar].selecionado = false\n            },\n            async buscarProximoIntervalo (reservaInter) {\n                const entidadeBuscaIntervalo = this.criarEntidadeBuscaIntervalo(reservaInter)\n                const intervalo = await this.buscarIntervalo(entidadeBuscaIntervalo)\n                if(intervalo) {\n                    this.reservaIntervalos.forEach(reservaIntervalo => {\n                        if (reservaIntervalo.orgaoId === reservaInter.orgaoId) {\n                            reservaIntervalo.numeroInicio = intervalo.numeroInicio\n                            reservaIntervalo.numeroFim = intervalo.numeroFim\n                            this.verificarMaiorNumeroFimIntervalo(reservaIntervalo.numeroFim)\n                        }\n                    })\n                }\n            },\n            verificarMaiorNumeroFimIntervalo (numeroFim) {\n                if (numeroFim) {\n                    if (this.maiorNumeroFimIntervalo < numeroFim) {\n                        this.maiorNumeroFimIntervalo = numeroFim\n                    }\n                } else {\n                    this.maiorNumeroFimIntervalo = Math.max.apply(Math, this.reservaIntervalosSelecionados.map(\n                        function (selecionado) {return selecionado.numeroFim}))\n                }\n            },\n            criarEntidadeBuscaIntervalo (reservaInter) {\n                return {\n                    items: this.reservaIntervalosSelecionados,\n                    reservaId: reservaInter.reservaId,\n                    orgaoId: reservaInter.orgaoId,\n                    quantidadeReservada: reservaInter.quantidadeReservada,\n                }\n            },\n            selecionaReservaIntervalo (reservaIntervalo) {\n                const indexReservaIntervaloSelecionada = this.reservaIntervalosSelecionados.findIndex(\n                    selecionado => selecionado.orgaoId === reservaIntervalo.orgaoId)\n                if (indexReservaIntervaloSelecionada !== -1) {\n                    this.reservaIntervalosSelecionados[indexReservaIntervaloSelecionada] = reservaIntervalo\n                } else {\n                    this.reservaIntervalosSelecionados.push(reservaIntervalo)\n                }\n            },\n            async tratarEventoAdicionar () {\n                if (await this.validarDadosFormulario()) {\n                    await this.salvarIntervalo({ reservaId: this.reservaId, intervalos: this.reservaIntervalosSelecionados })\n                    this.recarregarDadosReserva()\n                    await this.fecharModal()\n                }\n            },\n            async validarDadosFormulario () {\n                return await this.$validator.validateAll()\n            },\n            async fecharModal () {\n                await this.$router.replace({ name: 'ReservaEdicao', params: { id: this.$route.params.id } })\n            },\n            tratarEventoPaginar (paginacao) {\n                this.setPaginacaoBuscaOrgaosReserva(paginacao)\n                this.buscar()\n            },\n            resetaPage () {\n                this.resetaPageOrgaosReserva()\n            },\n            getPaginacao () {\n                return _.cloneDeep(this.$store.state.reserva.todosOrgaos.paginacao)\n            },\n            getFiltros () {\n                return _.cloneDeep(this.$store.state.reserva.todosOrgaos.filtros)\n            },\n            getFiltrosInterno () {\n                return _.cloneDeep(this.filtrosInterno)\n            },\n            async tratarEventoRemoverFiltro (propriedade) {\n                if (this.filtrosInterno[propriedade]) {\n                    this.filtrosInterno[propriedade].value = this.filtrosInterno[propriedade].default\n                }\n                await this.buscar()\n            },\n            recarregarDadosReserva() {\n                this.$emit('recarregarDadosReserva')\n            }\n        }\n    }\n</script>\n<style lang=\"stylus\">\n.pr-tabela-listagem-orgaos-reserva\n  .v-input__slot\n    margin-bottom 0 !important\n\n  th\n    font-size 13px !important\n    font-weight bold\n    color #666666 !important\n\n  tr:hover\n    background transparent !important\n\n  tr.v-data-table__selected\n    background white !important\n\n  tr.v-data-table__selected td .v-icon\n    color grey !important\n\n\n\n</style>\n"],"sourceRoot":"src/views/components/modal/configuracao/reserva/global/intervalo"}]}