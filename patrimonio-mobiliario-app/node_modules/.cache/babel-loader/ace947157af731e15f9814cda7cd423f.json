{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/movimentacao/movimentacao-interna/MovimentacaoInternaEdicao.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/movimentacao/movimentacao-interna/MovimentacaoInternaEdicao.vue","mtime":1616000736864},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AzHasPermissions from '@azinformatica/loki/src/utils/AzHasPermissions';\nimport { mutationTypes } from '@/core/constants';\nimport BotaoRemover from '@/views/components/botoes/BotaoRemover';\nimport { mapActions, mapMutations } from 'vuex';\nimport actionTypes from '@/core/constants/actionTypes';\nimport DocumentoButton from '@/views/components/botoes/DocumentoButton.vue';\nexport default {\n  name: 'MovimentacaoInternaEdicao',\n  components: {\n    BotaoRemover: BotaoRemover,\n    DocumentoButton: DocumentoButton\n  },\n  data: function data() {\n    return {\n      rotaOrigem: this.$store.state.movimentacaointerna.rota.origem,\n      passos: [{\n        titulo: 'Tipo',\n        rotaNovo: 'MovimentacaoInternaNovoTipo',\n        rotaEdicao: 'MovimentacaoInternaEdicaoTipo',\n        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaNovoTipo',\n        desabilitado: false,\n        numero: 1\n      }, {\n        titulo: 'Dados Gerais',\n        rotaEdicao: 'MovimentacaoInternaEdicaoDadosGerais',\n        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoDadosGerais',\n        desabilitado: true,\n        numero: 2\n      }, {\n        titulo: 'Patrimônios',\n        rotaEdicao: 'MovimentacaoInternaEdicaoItens',\n        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoItens',\n        desabilitado: true,\n        numero: 3\n      }, {\n        titulo: 'Documentos',\n        rotaEdicao: 'MovimentacaoInternaEdicaoDocumentos',\n        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoDocumentos',\n        desabilitado: true,\n        numero: 4\n      }],\n      passoAtual: {\n        numero: 3\n      },\n      movimentacaoInternaId: null,\n      tipoAtual: ''\n    };\n  },\n  computed: {\n    verificaPermissaoEdicao: function verificaPermissaoEdicao() {\n      return AzHasPermissions(this.$store.state.loki.user.authorities, ['Mobiliario.Normal']);\n    },\n    habilitarEdicaoMovimentacao: function habilitarEdicaoMovimentacao() {\n      var situacaoMovimentacao = this.$store.state.movimentacaointerna.situacaoMovimentacaoInterna;\n      var inserindo = situacaoMovimentacao === null && !this.movimentacaoInternaId;\n      return situacaoMovimentacao === 'EM_ELABORACAO' || situacaoMovimentacao === 'ERRO_PROCESSAMENTO' || inserindo;\n    }\n  },\n  watch: {\n    $route: function $route() {\n      this.setMovimentacaoInternaId();\n      this.setPassoAtual(this.$route);\n    },\n    movimentacaoInternaId: function () {\n      var _movimentacaoInternaId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var situacaoMovimentacao;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.movimentacaoInternaId) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.buscarTipoMovimentacaoInterna(this.movimentacaoInternaId);\n\n              case 3:\n                this.tipoAtual = _context.sent;\n                _context.next = 6;\n                return this.buscarSituacaoMovimentacao();\n\n              case 6:\n                situacaoMovimentacao = _context.sent;\n                this.redirecionarSeMovimentacaoInternaNaoPodeSerEditada(situacaoMovimentacao);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function movimentacaoInternaId() {\n        return _movimentacaoInternaId.apply(this, arguments);\n      }\n\n      return movimentacaoInternaId;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.retrairMenu();\n              this.setMovimentacaoInternaId();\n              this.setPassoAtual(this.$route);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  destroyed: function () {\n    var _destroyed = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              this.expandirMenu();\n              this.setSituacaoMovimentacaoInterna(null);\n              _context3.next = 4;\n              return this.removerMovimentacaoVazia();\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function destroyed() {\n      return _destroyed.apply(this, arguments);\n    }\n\n    return destroyed;\n  }(),\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions([actionTypes.MOVIMENTACAO_INTERNA.REMOVER_MOVIMENTACAO_INTERNA_COMPLETA, actionTypes.MOVIMENTACAO_INTERNA.REMOVER_MOVIMENTACAO_INTERNA_VAZIA, actionTypes.MOVIMENTACAO_INTERNA.BUSCAR_TIPO_MOVIMENTACAO_INTERNA, actionTypes.MOVIMENTACAO_INTERNA.BUSCAR_SITUACAO_MOVIMENTACAO_INTERNA])), mapMutations([mutationTypes.MOVIMENTACAO_INTERNA.SET_SITUACAO_MOVIMENTACAO_INTERNA])), {}, {\n    buscarSituacaoMovimentacao: function () {\n      var _buscarSituacaoMovimentacao = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var situacaoMovimentacao;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this.movimentacaoInternaId) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this.buscarSituacaoMovimentacaoInterna(this.movimentacaoInternaId);\n\n              case 3:\n                situacaoMovimentacao = _context4.sent;\n                this.setSituacaoMovimentacaoInterna(situacaoMovimentacao);\n                return _context4.abrupt(\"return\", situacaoMovimentacao);\n\n              case 6:\n                return _context4.abrupt(\"return\", null);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function buscarSituacaoMovimentacao() {\n        return _buscarSituacaoMovimentacao.apply(this, arguments);\n      }\n\n      return buscarSituacaoMovimentacao;\n    }(),\n    redirecionarSeMovimentacaoInternaNaoPodeSerEditada: function redirecionarSeMovimentacaoInternaNaoPodeSerEditada(situacaoMovimentacao) {\n      if (!['EM_ELABORACAO', 'ERRO_PROCESSAMENTO', null].includes(situacaoMovimentacao)) {\n        this.mostrarNotificacaoErro('Não é possível editar esta movimentação');\n        this.$router.replace({\n          name: 'MovimentacaoInternaListagem'\n        });\n      }\n    },\n    habilitaPasso2: function habilitaPasso2(movimentacaoInternaCadastradaId) {\n      this.passos[1].desabilitado = false;\n\n      if (movimentacaoInternaCadastradaId) {\n        this.movimentacaoInternaId = movimentacaoInternaCadastradaId;\n      }\n    },\n    desabilitaPasso2: function desabilitaPasso2() {\n      this.passos[1].desabilitado = true;\n    },\n    habilitaPasso3: function habilitaPasso3() {\n      this.passos[2].desabilitado = false;\n    },\n    desabilitaPasso3: function desabilitaPasso3() {\n      this.passos[2].desabilitado = true;\n    },\n    habilitaPasso4: function habilitaPasso4() {\n      this.passos[3].desabilitado = false;\n    },\n    desabilitaPasso4: function desabilitaPasso4() {\n      this.passos[3].desabilitado = true;\n    },\n    expandirMenu: function expandirMenu() {\n      this.$store.commit(mutationTypes.COMUM.SET_EXPANDIR_MENU);\n    },\n    retrairMenu: function retrairMenu() {\n      this.$store.commit(mutationTypes.COMUM.SET_RETRAIR_MENU);\n    },\n    setMovimentacaoInternaId: function setMovimentacaoInternaId() {\n      if (this.$route.params) {\n        this.movimentacaoInternaId = this.$route.params.movimentacaoInternaId;\n      }\n    },\n    setPassoAtual: function setPassoAtual(route) {\n      var encontrado = this.passos.filter(function (passo) {\n        return passo.rotaNovo === route.name || passo.rotaEdicao === route.name || passo.rotaEdicaoVisualizacao === route.name;\n      });\n\n      if (encontrado[0]) {\n        this.passoAtual = encontrado[0];\n      }\n\n      this.contralaAcessoAosPassosEmCadaRota();\n    },\n    contralaAcessoAosPassosEmCadaRota: function contralaAcessoAosPassosEmCadaRota() {\n      if (this.$route.name === 'MovimentacaoInternaNovoTipo' || this.$route.name === 'VisualizarMovimentacaoInternaNovoTipo' || this.$route.name === 'MovimentacaoInternaEdicaoTipo' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoTipo') {\n        this.passos[1].desabilitado = true;\n      }\n\n      if (this.$route.name === 'MovimentacaoInternaEdicaoDadosGerais' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoDadosGerais') {\n        this.passos[1].desabilitado = false;\n        this.passos[2].desabilitado = true;\n        this.passos[3].desabilitado = true;\n      }\n\n      if (this.$route.name === 'MovimentacaoInternaEdicaoItens' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoItens') {\n        this.passos[1].desabilitado = false;\n        this.passos[2].desabilitado = false;\n        this.passos[3].desabilitado = true;\n      }\n\n      if (this.$route.name === 'MovimentacaoInternaEdicaoDocumentos' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoDocumentos') {\n        this.passos[0].desabilitado = false;\n        this.passos[1].desabilitado = false;\n        this.passos[2].desabilitado = false;\n        this.passos[3].desabilitado = false;\n      }\n    },\n    tratarEventoDeletarMovimentacaoInterna: function () {\n      var _tratarEventoDeletarMovimentacaoInterna = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.removerMovimentacaoInternaCompleta(this.movimentacaoInternaId);\n\n              case 2:\n                this.mostrarNotificacaoSucessoDefault();\n                _context5.next = 5;\n                return this.$router.push({\n                  name: this.rotaOrigem\n                });\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function tratarEventoDeletarMovimentacaoInterna() {\n        return _tratarEventoDeletarMovimentacaoInterna.apply(this, arguments);\n      }\n\n      return tratarEventoDeletarMovimentacaoInterna;\n    }(),\n    tratarEventoClick: function tratarEventoClick(item) {\n      if (!item.desabilitado) {\n        if (!this.verificaPermissaoEdicao) {\n          this.$router.replace({\n            name: item.rotaEdicaoVisualizacao,\n            params: {\n              movimentacaoInternaId: this.movimentacaoInternaId\n            }\n          });\n        } else {\n          this.$router.replace({\n            name: item.rotaEdicao,\n            params: {\n              movimentacaoInternaId: this.movimentacaoInternaId\n            }\n          });\n        }\n      }\n    },\n    removerMovimentacaoVazia: function () {\n      var _removerMovimentacaoVazia = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var movimentacao, movimentacaoExiste, movimentacaoEmElaboracao, movimentacaoComAlgumCampoPreenchido;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                movimentacao = this.$store.state.movimentacaointerna.movimentacaoInterna;\n                movimentacaoExiste = movimentacao && movimentacao.id;\n                movimentacaoEmElaboracao = movimentacao.situacao === 'EM_ELABORACAO';\n                movimentacaoComAlgumCampoPreenchido = movimentacaoExiste && this.verificarMovimentacaoComAlgumCampoPreenchido(movimentacao);\n\n                if (!(movimentacaoExiste && movimentacaoEmElaboracao && !movimentacaoComAlgumCampoPreenchido)) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                _context6.next = 7;\n                return this.removerMovimentacaoInternaVazia(movimentacao.id);\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function removerMovimentacaoVazia() {\n        return _removerMovimentacaoVazia.apply(this, arguments);\n      }\n\n      return removerMovimentacaoVazia;\n    }(),\n    verificarMovimentacaoComAlgumCampoPreenchido: function verificarMovimentacaoComAlgumCampoPreenchido(movimentacao) {\n      var keys = Object.keys(movimentacao);\n      var camposPreenchidosAutomaticamente = ['id', 'situacao', 'codigo', 'usuarioCriacao'];\n      var possuiCampoPreenchido = false;\n\n      var _loop = function _loop() {\n        var key = _keys[_i];\n\n        if (camposPreenchidosAutomaticamente.find(function (campo) {\n          return campo === key;\n        })) {\n          return \"continue\";\n        }\n\n        if (movimentacao[key]) {\n          possuiCampoPreenchido = true;\n          return \"break\";\n        }\n      };\n\n      for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n        var _ret = _loop();\n\n        if (_ret === \"continue\") continue;\n        if (_ret === \"break\") break;\n      }\n\n      return possuiCampoPreenchido;\n    }\n  })\n};",{"version":3,"sources":["MovimentacaoInternaEdicao.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div v-if=\"habilitarEdicaoMovimentacao\">\n        <az-back-button :route=\"{ name: rotaOrigem }\" text=\"Voltar para listagem\"/>\n\n        <az-container class=\"movimentacao-interna-container\">\n            <v-stepper v-model=\"passoAtual.numero\">\n                <v-stepper-header class=\"elevation-0 barra-passo\">\n                    <v-spacer/>\n\n                    <v-stepper-step\n                        :complete=\"passos[0].numero < passoAtual.numero\"\n                        :disabled=\"passos[0].desabilitado\"\n                        :editable=\"!passos[0].desabilitado\"\n                        :key=\"`${passos[0].numero}-header`\"\n                        :step=\"passos[0].numero\"\n                        @click=\"tratarEventoClick(passos[0])\"\n                        edit-icon=\"fas fa-check\">\n                        {{ passos[0].titulo }}\n                    </v-stepper-step>\n\n                    <v-divider/>\n\n                    <v-tooltip\n                        nudge-left=\"10\"\n                        nudge-top=\"-22\"\n                        max-width=\"200\"\n                        top>\n                        <template v-slot:activator=\"{ on }\">\n                            <div v-on=\"on\" v-show=\"passos[1].desabilitado\">\n                                <v-stepper-step\n                                    :complete=\"passos[1].numero < passoAtual.numero\"\n                                    :disabled=\"passos[1].desabilitado\"\n                                    :editable=\"!passos[1].desabilitado\"\n                                    :key=\"`${passos[1].numero}-header`\"\n                                    :step=\"passos[1].numero\"\n                                    @click=\"tratarEventoClick(passos[1])\"\n                                    edit-icon=\"fas fa-check\"\n                                    :class=\"{'passo-ativo' : !passos[1].desabilitado}\"\n                                >{{ passos[1].titulo }}\n                                </v-stepper-step>\n                            </div>\n                            <v-stepper-step\n                                :complete=\"passos[1].numero < passoAtual.numero\"\n                                :disabled=\"passos[1].desabilitado\"\n                                :editable=\"!passos[1].desabilitado\"\n                                :key=\"`${passos[1].numero}-header`\"\n                                :step=\"passos[1].numero\"\n                                @click=\"tratarEventoClick(passos[1])\"\n                                edit-icon=\"fas fa-check\"\n                                v-show=\"!passos[1].desabilitado\"\n                                :class=\"{'passo-ativo' : !passos[1].desabilitado}\"\n                            >{{ passos[1].titulo }}\n                            </v-stepper-step>\n                        </template>\n                        É necessário que todos os campos obrigatórios sejam preenchidos para continuar.\n                    </v-tooltip>\n\n                    <v-divider/>\n\n                    <v-tooltip\n                        nudge-left=\"10\"\n                        nudge-top=\"-20\"\n                        max-width=\"200\"\n                        top>\n                        <template v-slot:activator=\"{ on }\">\n                            <div v-on=\"on\" v-show=\"passos[2].desabilitado && !passos[1].desabilitado\">\n                                <v-stepper-step\n                                    :complete=\"passos[2].numero < passoAtual.numero\"\n                                    :disabled=\"passos[2].desabilitado\"\n                                    :editable=\"!passos[2].desabilitado\"\n                                    :key=\"`${passos[2].numero}-header`\"\n                                    :step=\"passos[2].numero\"\n                                    @click=\"tratarEventoClick(passos[2])\"\n                                    edit-icon=\"fas fa-check\"\n                                    :class=\"{'passo-ativo' : !passos[2].desabilitado}\"\n                                >{{ passos[2].titulo }}\n                                </v-stepper-step>\n                            </div>\n                            <v-stepper-step\n                                :complete=\"passos[2].numero < passoAtual.numero\"\n                                :disabled=\"passos[2].desabilitado\"\n                                :editable=\"!passos[2].desabilitado\"\n                                :key=\"`${passos[2].numero}-header`\"\n                                :step=\"passos[2].numero\"\n                                @click=\"tratarEventoClick(passos[2])\"\n                                edit-icon=\"fas fa-check\"\n                                v-show=\"!passos[2].desabilitado || passos[1].desabilitado\"\n                                :class=\"{'passo-ativo' : !passos[2].desabilitado}\"\n                            >{{ passos[2].titulo }}\n                            </v-stepper-step>\n                        </template>\n                        É necessário que todos os campos obrigatórios sejam preenchidos para continuar.\n                    </v-tooltip>\n\n                    <v-divider/>\n\n                    <v-tooltip\n                        nudge-left=\"10\"\n                        nudge-top=\"-20\"\n                        max-width=\"200\"\n                        top>\n                        <template v-slot:activator=\"{ on }\">\n                            <div v-on=\"on\" v-show=\"passos[3].desabilitado && !passos[2].desabilitado\">\n                                <v-stepper-step\n                                    :complete=\"passos[3].numero < passoAtual.numero\"\n                                    :disabled=\"passos[3].desabilitado\"\n                                    :editable=\"!passos[3].desabilitado\"\n                                    :key=\"`${passos[3].numero}-header`\"\n                                    :step=\"passos[3].numero\"\n                                    @click=\"tratarEventoClick(passos[3])\"\n                                    edit-icon=\"fas fa-check\"\n                                    :class=\"{'passo-ativo' : !passos[3].desabilitado}\"\n                                >{{ passos[3].titulo }}\n                                </v-stepper-step>\n                            </div>\n                            <v-stepper-step\n                                :complete=\"passos[3].numero < passoAtual.numero\"\n                                :disabled=\"passos[3].desabilitado\"\n                                :editable=\"!passos[3].desabilitado\"\n                                :key=\"`${passos[3].numero}-header`\"\n                                :step=\"passos[3].numero\"\n                                @click=\"tratarEventoClick(passos[3])\"\n                                edit-icon=\"fas fa-check\"\n                                v-show=\"!passos[3].desabilitado || passos[2].desabilitado\"\n                                :class=\"{'passo-ativo' : !passos[3].desabilitado}\"\n                            >{{ passos[3].titulo }}\n                            </v-stepper-step>\n                        </template>\n                        É necessário que todos os campos obrigatórios sejam preenchidos para continuar.\n                    </v-tooltip>\n\n                    <v-spacer/>\n                    <div v-if=\"passoAtual.numero !== 1\">\n                        <documento-button :movimentacaoInternaId=\"movimentacaoInternaId\" :visualizacao=\"false\"/>\n                    </div>\n                    <div>\n                        <botao-remover @remover=\"tratarEventoDeletarMovimentacaoInterna\"\n                                       v-if=\"movimentacaoInternaId && verificaPermissaoEdicao\"/>\n                    </div>\n                </v-stepper-header>\n\n                <v-divider/>\n\n                <v-stepper-items>\n                    <v-stepper-content\n                        :key=\"`${passo.numero}-content`\"\n                        :step=\"passo.numero\"\n                        v-for=\"passo in passos\"></v-stepper-content>\n                    <router-view @desabilitaPasso2=\"desabilitaPasso2\"\n                                 @habilitaPasso2=\"habilitaPasso2\"\n                                 @desabilitaPasso3=\"desabilitaPasso3\"\n                                 @habilitaPasso3=\"habilitaPasso3\"\n                                 @desabilitaPasso4=\"desabilitaPasso4\"\n                                 @habilitaPasso4=\"habilitaPasso4\"/>\n                </v-stepper-items>\n            </v-stepper>\n        </az-container>\n    </div>\n</template>\n\n<script>\n    import AzHasPermissions from '@azinformatica/loki/src/utils/AzHasPermissions'\n    import {mutationTypes} from '@/core/constants'\n    import BotaoRemover from '@/views/components/botoes/BotaoRemover'\n    import { mapActions, mapMutations } from 'vuex'\n    import actionTypes from '@/core/constants/actionTypes'\n    import DocumentoButton from '@/views/components/botoes/DocumentoButton.vue'\n\n    export default {\n        name: 'MovimentacaoInternaEdicao',\n        components: {BotaoRemover,DocumentoButton},\n        data() {\n            return {\n                rotaOrigem: this.$store.state.movimentacaointerna.rota.origem,\n                passos: [\n                    {\n                        titulo: 'Tipo',\n                        rotaNovo: 'MovimentacaoInternaNovoTipo',\n                        rotaEdicao: 'MovimentacaoInternaEdicaoTipo',\n                        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaNovoTipo',\n                        desabilitado: false,\n                        numero: 1,\n                    },\n                    {\n                        titulo: 'Dados Gerais',\n                        rotaEdicao: 'MovimentacaoInternaEdicaoDadosGerais',\n                        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoDadosGerais',\n                        desabilitado: true,\n                        numero: 2,\n                    },\n                    {\n                        titulo: 'Patrimônios',\n                        rotaEdicao: 'MovimentacaoInternaEdicaoItens',\n                        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoItens',\n                        desabilitado: true,\n                        numero: 3,\n                    },\n                    {\n                        titulo: 'Documentos',\n                        rotaEdicao: 'MovimentacaoInternaEdicaoDocumentos',\n                        rotaEdicaoVisualizacao: 'VisualizarMovimentacaoInternaEdicaoDocumentos',\n                        desabilitado: true,\n                        numero: 4,\n                    }\n                ],\n                passoAtual: {numero:3},\n                movimentacaoInternaId: null,\n                tipoAtual:''\n            }\n        },\n        computed: {\n            verificaPermissaoEdicao() {\n                return AzHasPermissions(this.$store.state.loki.user.authorities, ['Mobiliario.Normal'])\n            },\n            habilitarEdicaoMovimentacao() {\n                const situacaoMovimentacao = this.$store.state.movimentacaointerna.situacaoMovimentacaoInterna\n                const inserindo = situacaoMovimentacao === null && !this.movimentacaoInternaId\n                return situacaoMovimentacao === 'EM_ELABORACAO' || situacaoMovimentacao === 'ERRO_PROCESSAMENTO' || inserindo\n            }\n        },\n        watch: {\n            $route() {\n                this.setMovimentacaoInternaId()\n                this.setPassoAtual(this.$route)\n            },\n            async movimentacaoInternaId(){\n                if(this.movimentacaoInternaId){\n                    this.tipoAtual = await this.buscarTipoMovimentacaoInterna(this.movimentacaoInternaId)\n                    const situacaoMovimentacao = await this.buscarSituacaoMovimentacao()\n                    this.redirecionarSeMovimentacaoInternaNaoPodeSerEditada(situacaoMovimentacao)\n                }\n            }\n        },\n        async created() {\n            this.retrairMenu()\n            this.setMovimentacaoInternaId()\n            this.setPassoAtual(this.$route)\n        },\n        async destroyed() {\n            this.expandirMenu()\n            this.setSituacaoMovimentacaoInterna(null)\n            await this.removerMovimentacaoVazia()\n        },\n        methods: {\n            ...mapActions([\n                actionTypes.MOVIMENTACAO_INTERNA.REMOVER_MOVIMENTACAO_INTERNA_COMPLETA,\n                actionTypes.MOVIMENTACAO_INTERNA.REMOVER_MOVIMENTACAO_INTERNA_VAZIA,\n                actionTypes.MOVIMENTACAO_INTERNA.BUSCAR_TIPO_MOVIMENTACAO_INTERNA,\n                actionTypes.MOVIMENTACAO_INTERNA.BUSCAR_SITUACAO_MOVIMENTACAO_INTERNA,\n            ]),\n            ...mapMutations([\n                mutationTypes.MOVIMENTACAO_INTERNA.SET_SITUACAO_MOVIMENTACAO_INTERNA\n            ]),\n            async buscarSituacaoMovimentacao(){\n                if(this.movimentacaoInternaId){\n                    const situacaoMovimentacao = await this.buscarSituacaoMovimentacaoInterna(this.movimentacaoInternaId)\n                    this.setSituacaoMovimentacaoInterna(situacaoMovimentacao)\n                    return situacaoMovimentacao\n                }\n                return null\n            },\n            redirecionarSeMovimentacaoInternaNaoPodeSerEditada(situacaoMovimentacao){\n                if(!['EM_ELABORACAO', 'ERRO_PROCESSAMENTO', null].includes(situacaoMovimentacao)){\n                    this.mostrarNotificacaoErro('Não é possível editar esta movimentação')\n                    this.$router.replace({name: 'MovimentacaoInternaListagem'})\n                }\n            },\n            habilitaPasso2(movimentacaoInternaCadastradaId) {\n                this.passos[1].desabilitado = false\n                if(movimentacaoInternaCadastradaId){\n                    this.movimentacaoInternaId = movimentacaoInternaCadastradaId\n                }\n            },\n            desabilitaPasso2() {\n                this.passos[1].desabilitado = true\n            },\n            habilitaPasso3() {\n                this.passos[2].desabilitado = false\n            },\n            desabilitaPasso3() {\n                this.passos[2].desabilitado = true\n            },\n            habilitaPasso4() {\n                this.passos[3].desabilitado = false\n            },\n            desabilitaPasso4() {\n                this.passos[3].desabilitado = true\n            },\n            expandirMenu() {\n                this.$store.commit(mutationTypes.COMUM.SET_EXPANDIR_MENU)\n            },\n            retrairMenu() {\n                this.$store.commit(mutationTypes.COMUM.SET_RETRAIR_MENU)\n            },\n            setMovimentacaoInternaId() {\n                if(this.$route.params){\n                    this.movimentacaoInternaId = this.$route.params.movimentacaoInternaId\n                }\n            },\n            setPassoAtual(route) {\n                const encontrado = this.passos.filter(\n                    passo =>\n                        passo.rotaNovo === route.name ||\n                        passo.rotaEdicao === route.name ||\n                        passo.rotaEdicaoVisualizacao === route.name\n                )\n                if(encontrado[0]){\n                    this.passoAtual = encontrado[0]\n                }\n                this.contralaAcessoAosPassosEmCadaRota()\n            },\n            contralaAcessoAosPassosEmCadaRota() {\n                if (this.$route.name === 'MovimentacaoInternaNovoTipo' || this.$route.name === 'VisualizarMovimentacaoInternaNovoTipo' ||\n                    this.$route.name === 'MovimentacaoInternaEdicaoTipo' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoTipo') {\n                    this.passos[1].desabilitado = true\n                }\n                if (this.$route.name === 'MovimentacaoInternaEdicaoDadosGerais' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoDadosGerais') {\n                    this.passos[1].desabilitado = false\n                    this.passos[2].desabilitado = true\n                    this.passos[3].desabilitado = true\n                }\n                if (this.$route.name === 'MovimentacaoInternaEdicaoItens' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoItens') {\n                    this.passos[1].desabilitado = false\n                    this.passos[2].desabilitado = false\n                    this.passos[3].desabilitado = true\n                }\n                if (this.$route.name === 'MovimentacaoInternaEdicaoDocumentos' || this.$route.name === 'VisualizarMovimentacaoInternaEdicaoDocumentos') {\n                    this.passos[0].desabilitado = false\n                    this.passos[1].desabilitado = false\n                    this.passos[2].desabilitado = false\n                    this.passos[3].desabilitado = false\n                }\n            },\n            async tratarEventoDeletarMovimentacaoInterna() {\n                await this.removerMovimentacaoInternaCompleta(this.movimentacaoInternaId)\n                this.mostrarNotificacaoSucessoDefault()\n                await this.$router.push({name: this.rotaOrigem})\n            },\n            tratarEventoClick(item) {\n                if (!item.desabilitado) {\n                    if (!this.verificaPermissaoEdicao) {\n                        this.$router.replace({name: item.rotaEdicaoVisualizacao, params: {movimentacaoInternaId: this.movimentacaoInternaId}})\n                    } else {\n                        this.$router.replace({name: item.rotaEdicao, params: {movimentacaoInternaId: this.movimentacaoInternaId}})\n                    }\n                }\n            },\n            async removerMovimentacaoVazia() {\n                const movimentacao = this.$store.state.movimentacaointerna.movimentacaoInterna\n                const movimentacaoExiste = movimentacao && movimentacao.id\n                const movimentacaoEmElaboracao = movimentacao.situacao === 'EM_ELABORACAO'\n                const movimentacaoComAlgumCampoPreenchido = movimentacaoExiste && this.verificarMovimentacaoComAlgumCampoPreenchido(movimentacao)\n                if (movimentacaoExiste && movimentacaoEmElaboracao && !movimentacaoComAlgumCampoPreenchido) {\n                    await this.removerMovimentacaoInternaVazia(movimentacao.id)\n                }\n            },\n            verificarMovimentacaoComAlgumCampoPreenchido(movimentacao) {\n                const keys = Object.keys(movimentacao)\n                const camposPreenchidosAutomaticamente = ['id', 'situacao', 'codigo', 'usuarioCriacao']\n                let possuiCampoPreenchido = false\n                for (let key of keys) {\n                    if (camposPreenchidosAutomaticamente.find(campo => campo === key)) {\n                        continue\n                    }\n                    if (movimentacao[key]) {\n                        possuiCampoPreenchido = true\n                        break\n                    }\n                }\n                return possuiCampoPreenchido\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n>>>\n    .movimentacao-interna-container\n        .v-stepper\n            box-shadow none\n\n            &__content\n                padding 0 15% 0 60%\n\n            &__step__step .v-icon.v-icon\n                font-size .9rem\n\n        .container\n            background-color #fff\n\n        .az-actions-form\n            border-top solid thin rgba(0, 0, 0, .12)\n            padding-top 10px\n            margin-top 0\n\n        &-conteudo\n            min-height 350px\n\n</style>\n"],"sourceRoot":"src/views/pages/movimentacao/movimentacao-interna"}]}