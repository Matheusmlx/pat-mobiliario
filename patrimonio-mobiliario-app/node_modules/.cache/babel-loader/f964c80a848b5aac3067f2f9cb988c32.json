{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/panel/panel-documentos/PanelDocumentos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/panel/panel-documentos/PanelDocumentos.vue","mtime":1615835360011},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CampoDeTextoEditavel from '@/views/components/camposEditaveis/campo-de-texto-editavel';\nimport CampoDeDataEditavel from '@/views/components/camposEditaveis/campo-de-data-editavel';\nimport CampoDeValorEditavel from '@/views/components/camposEditaveis/campo-de-valor-editavel';\nimport CampoDeArquivoEditavel from '@/views/components/camposEditaveis/campo-de-arquivo-editavel';\nimport CampoDeSelectEditavel from '@/views/components/camposEditaveis/campo-de-select-editavel';\nimport CampoDeArquivoNovo from '@/views/components/camposEditaveis/campo-de-arquivo-novo';\nimport BotaoRemover from '@/views/components/botoes/BotaoRemover';\nimport { createNamespacedHelpers } from 'vuex';\n\nvar _createNamespacedHelp = createNamespacedHelpers('rotulosPersonalizados'),\n    mapGetters = _createNamespacedHelp.mapGetters;\n\nexport default {\n  name: 'PanelDocumentos',\n  components: {\n    CampoDeTextoEditavel: CampoDeTextoEditavel,\n    CampoDeDataEditavel: CampoDeDataEditavel,\n    CampoDeValorEditavel: CampoDeValorEditavel,\n    CampoDeArquivoEditavel: CampoDeArquivoEditavel,\n    CampoDeSelectEditavel: CampoDeSelectEditavel,\n    CampoDeArquivoNovo: CampoDeArquivoNovo,\n    BotaoRemover: BotaoRemover\n  },\n  props: ['anexoUpload', 'documentos', 'tiposDocumento', 'docNovo'],\n  data: function data() {\n    return {\n      documentosHeaders: [{\n        value: 'numero',\n        obrigatorio: false\n      }, {\n        value: 'data',\n        obrigatorio: false\n      }, {\n        value: 'valor',\n        obrigatorio: false\n      }, {\n        value: 'tipo',\n        obrigatorio: false\n      }, {\n        value: 'uriAnexo',\n        obrigatorio: false\n      }],\n      adicionando: false,\n      editando: [],\n      valorDataObrigatorio: false,\n      validateRequeridAzMoney: 0,\n      documentoObrigatorioId: null,\n      nomeTela: 'DOCUMENTOS',\n      anexo: {}\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.buscarTipoDocumentos();\n\n            case 2:\n              _context.next = 4;\n              return this.buscarTodosDocumentos();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  computed: _objectSpread(_objectSpread({}, mapGetters(['getNomeRotulosPersonalizados', 'getObrigatorioRotulosPersonalizados', 'getDocumentoTodosObrigatoriosValidado', 'getDocumentoNumeroTipoObrigatorioValidado'])), {}, {\n    estaEditando: function estaEditando() {\n      return this.editando.length !== 0;\n    }\n  }),\n  watch: {\n    anexoUpload: function () {\n      var _anexoUpload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(val) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.anexo.uriAnexo = val;\n                _context2.next = 3;\n                return this.tratarEventoSalvar(this.anexo);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function anexoUpload(_x) {\n        return _anexoUpload.apply(this, arguments);\n      }\n\n      return anexoUpload;\n    }()\n  },\n  methods: {\n    setaIdObrigatorio: function setaIdObrigatorio(id) {\n      this.documentoObrigatorioId = id;\n    },\n    verificarCamposObrigatorios: function () {\n      var _verificarCamposObrigatorios = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(doc) {\n        var documentoEncontrado;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                documentoEncontrado = this.tiposDocumento.find(function (element) {\n                  return element.id === doc.tipo;\n                });\n\n                if (!(documentoEncontrado && (documentoEncontrado.descricao === 'Nota Fiscal' || documentoEncontrado.descricao === 'Nota de Empenho'))) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                this.valorDataObrigatorio = true;\n                this.validateRequeridAzMoney++;\n                _context3.next = 6;\n                return this.$validator._base.validateAll();\n\n              case 6:\n                _context3.next = 9;\n                break;\n\n              case 8:\n                this.valorDataObrigatorio = false;\n\n              case 9:\n                return _context3.abrupt(\"return\", true);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function verificarCamposObrigatorios(_x2) {\n        return _verificarCamposObrigatorios.apply(this, arguments);\n      }\n\n      return verificarCamposObrigatorios;\n    }(),\n    setaEditando: function setaEditando(value, documento) {\n      this.editando.push(value);\n      this.setaIdObrigatorio(documento.id);\n      this.verificarCamposObrigatorios(documento);\n      this.verificaObrigatoriedadeLabels();\n    },\n    retiraEditando: function retiraEditando(value) {\n      var index = this.editando.indexOf(value);\n      this.editando.splice(index, 1);\n      this.verificaObrigatoriedadeLabels();\n    },\n    abrirPanelDocumentos: function abrirPanelDocumentos() {\n      var _this = this;\n\n      setTimeout(function () {\n        var options = {\n          duration: 945,\n          offset: -1,\n          easing: 'linear'\n        };\n\n        _this.$vuetify.goTo('#listagemTabela', options);\n      }, 250);\n    },\n    novoDocumento: function () {\n      var _novoDocumento = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.validaSeEstaEditando()) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                if (!this.validarCadastrosFinalizados(this.docNovo)) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                this.validateRequeridAzMoney = 0;\n                this.valorDataObrigatorio = false;\n                this.adicionando = true;\n                _context4.next = 7;\n                return this.$emit('criarNovoDocumento');\n\n              case 7:\n                _context4.next = 10;\n                break;\n\n              case 9:\n                this.mostrarNotificacaoAviso('Finalize o cadastro para cadastrar novos documentos');\n\n              case 10:\n                this.verificaObrigatoriedadeLabels();\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function novoDocumento() {\n        return _novoDocumento.apply(this, arguments);\n      }\n\n      return novoDocumento;\n    }(),\n    validarCadastrosFinalizados: function validarCadastrosFinalizados(obj) {\n      return Object.keys(obj).length === 0;\n    },\n    validaSeEstaEditando: function validaSeEstaEditando() {\n      if (this.estaEditando) {\n        this.mostrarNotificacaoAviso('Finalize a edição do documento antes de criar um novo');\n        return true;\n      }\n\n      return false;\n    },\n    estaAdicionando: function estaAdicionando() {\n      this.mostrarNotificacaoAviso('Finalize o cadastro para realizar a edição');\n    },\n    buscarTodosDocumentos: function () {\n      var _buscarTodosDocumentos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.$emit('buscarTodosDocumentos');\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function buscarTodosDocumentos() {\n        return _buscarTodosDocumentos.apply(this, arguments);\n      }\n\n      return buscarTodosDocumentos;\n    }(),\n    buscarTipoDocumentos: function () {\n      var _buscarTipoDocumentos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$emit('buscarTipoDocumentos');\n\n              case 2:\n                this.tiposDocumento = this.ordenaTipoDocumentos(this.tiposDocumento);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function buscarTipoDocumentos() {\n        return _buscarTipoDocumentos.apply(this, arguments);\n      }\n\n      return buscarTipoDocumentos;\n    }(),\n    ordenaTipoDocumentos: function ordenaTipoDocumentos(resultado) {\n      return resultado.sort(function (a, b) {\n        if (a.descricao < b.descricao) {\n          return -1;\n        } else if (a.descricao > b.descricao) {\n          return 1;\n        }\n\n        return 0;\n      });\n    },\n    verificaObrigatoriedadeLabels: function verificaObrigatoriedadeLabels() {\n      if (this.estaEditando || this.adicionando) {\n        if (this.valorDataObrigatorio) {\n          this.apresentaObrigatoriedadeLabelsExcetoUriAnexo();\n        } else if (!this.valorDataObrigatorio) {\n          this.apresentaObrigatoriedadeLabelsNumeroTipo();\n          this.verificaObrigatoriedadeLabelValor();\n          this.verificaObrigatoriedadeLabelData();\n        }\n\n        this.verificaObrigatoriedadeLabelUriAnexo();\n      } else {\n        this.escondeObrigatoriedadeLabels();\n      }\n    },\n    apresentaObrigatoriedadeLabelsExcetoUriAnexo: function apresentaObrigatoriedadeLabelsExcetoUriAnexo() {\n      this.documentosHeaders[0].obrigatorio = true;\n      this.documentosHeaders[1].obrigatorio = true;\n      this.documentosHeaders[2].obrigatorio = true;\n      this.documentosHeaders[3].obrigatorio = true;\n    },\n    apresentaObrigatoriedadeLabelsNumeroTipo: function apresentaObrigatoriedadeLabelsNumeroTipo() {\n      this.documentosHeaders[0].obrigatorio = true;\n      this.documentosHeaders[3].obrigatorio = true;\n    },\n    verificaObrigatoriedadeLabelData: function verificaObrigatoriedadeLabelData() {\n      this.documentosHeaders[1].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('data', this.nomeTela);\n    },\n    verificaObrigatoriedadeLabelValor: function verificaObrigatoriedadeLabelValor() {\n      this.documentosHeaders[2].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('valor', this.nomeTela);\n    },\n    verificaObrigatoriedadeLabelUriAnexo: function verificaObrigatoriedadeLabelUriAnexo() {\n      this.documentosHeaders[4].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('uriAnexo', this.nomeTela);\n    },\n    escondeObrigatoriedadeLabels: function escondeObrigatoriedadeLabels() {\n      this.documentosHeaders[0].obrigatorio = false;\n      this.documentosHeaders[1].obrigatorio = false;\n      this.documentosHeaders[2].obrigatorio = false;\n      this.documentosHeaders[3].obrigatorio = false;\n      this.documentosHeaders[4].obrigatorio = false;\n    },\n    tratarEventoSalvar: function () {\n      var _tratarEventoSalvar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(documento) {\n        var estaValidado;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (this.getObrigatorioRotulosPersonalizados('valor', this.nomeTela)) {\n                  this.validateRequeridAzMoney++;\n                }\n\n                if (documento.valor === undefined || documento.valor === 0) {\n                  this.docNovo.valor = null;\n                }\n\n                this.setaIdObrigatorio(documento.id);\n                _context7.next = 5;\n                return this.verificarCamposObrigatorios(documento);\n\n              case 5:\n                if (!_context7.sent) {\n                  _context7.next = 24;\n                  break;\n                }\n\n                this.verificaObrigatoriedadeLabels();\n                documento = this.retiraEspacosVazios(documento);\n                this.desabilitarLoadingGlobal();\n                _context7.next = 11;\n                return this.$validator._base.validateAll();\n\n              case 11:\n                estaValidado = _context7.sent;\n\n                if (!(estaValidado && this.verificarValidacaoCamposObrigatorios(documento))) {\n                  _context7.next = 23;\n                  break;\n                }\n\n                if (!(typeof documento.id == 'undefined')) {\n                  _context7.next = 21;\n                  break;\n                }\n\n                _context7.next = 16;\n                return this.$emit('salvarDocumento', documento);\n\n              case 16:\n                this.$emit('resetarDocumentoNovo');\n                this.adicionando = false;\n                this.verificaObrigatoriedadeLabels();\n                _context7.next = 23;\n                break;\n\n              case 21:\n                _context7.next = 23;\n                return this.$emit('editarDocumento', documento);\n\n              case 23:\n                this.habilitarLoadingGlobal();\n\n              case 24:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function tratarEventoSalvar(_x3) {\n        return _tratarEventoSalvar.apply(this, arguments);\n      }\n\n      return tratarEventoSalvar;\n    }(),\n    verificarValidacaoCamposObrigatorios: function verificarValidacaoCamposObrigatorios(documento) {\n      return this.valorDataObrigatorio ? this.getDocumentoTodosObrigatoriosValidado(documento, this.nomeTela) : this.getDocumentoNumeroTipoObrigatorioValidado(documento, this.nomeTela);\n    },\n    retiraEspacosVazios: function retiraEspacosVazios(documento) {\n      if (documento.numero) {\n        documento.numero = documento.numero.trim();\n      }\n\n      return documento;\n    },\n    tratarEventoSalvarAnexo: function () {\n      var _tratarEventoSalvarAnexo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(anexo) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                this.desabilitarLoadingGlobal();\n\n                if (!anexo.uriAnexo) {\n                  _context8.next = 5;\n                  break;\n                }\n\n                this.anexo = anexo;\n                _context8.next = 5;\n                return this.$emit('uploadAnexo', this.anexo);\n\n              case 5:\n                this.habilitarLoadingGlobal();\n\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function tratarEventoSalvarAnexo(_x4) {\n        return _tratarEventoSalvarAnexo.apply(this, arguments);\n      }\n\n      return tratarEventoSalvarAnexo;\n    }(),\n    tratarEventoDeletarDocumento: function () {\n      var _tratarEventoDeletarDocumento = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(documento) {\n        var estaEditandoDocumento;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                this.desabilitarLoadingGlobal();\n                estaEditandoDocumento = this.editando.find(function (element) {\n                  return element.id === documento.id;\n                });\n                if (estaEditandoDocumento) this.retiraEditando(estaEditandoDocumento);\n                _context9.next = 5;\n                return this.$emit('removerDocumento', documento);\n\n              case 5:\n                this.habilitarLoadingGlobal();\n                this.verificaObrigatoriedadeLabels();\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function tratarEventoDeletarDocumento(_x5) {\n        return _tratarEventoDeletarDocumento.apply(this, arguments);\n      }\n\n      return tratarEventoDeletarDocumento;\n    }(),\n    tratarEventoDeletarDocumentoNovo: function () {\n      var _tratarEventoDeletarDocumentoNovo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this.adicionando = false;\n                this.$emit('resetarDocumentoNovo');\n                this.verificaObrigatoriedadeLabels();\n\n              case 3:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function tratarEventoDeletarDocumentoNovo() {\n        return _tratarEventoDeletarDocumentoNovo.apply(this, arguments);\n      }\n\n      return tratarEventoDeletarDocumentoNovo;\n    }()\n  }\n};",{"version":3,"sources":["PanelDocumentos.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container fluid>\n        <v-row class=\"white pl-3 pr-3 ml-0 mr-0 pb-5 campo-input-edit\">\n            <v-col cols=\"12\">\n                <v-card flat class=\"documentos\">\n                    <v-expansion-panels active-class=\"\" flat>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header @click=\"abrirPanelDocumentos\" class=\"documentos-panel-header\">\n                                <h4 class=\"session-title\">Documentos</h4>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-col cols=\"12\">\n                                    <v-btn\n                                           @click=\"novoDocumento()|abrirPanelDocumentos()\"\n                                           color=\"grey\" dark depressed>\n                                        NOVO\n                                    </v-btn>\n                                </v-col>\n                                <v-col cols=\"12\" md=\"12\" class=\"mt-0 pt-0\">\n                                    <v-simple-table class=\"simple-table\">\n                                        <thead>\n                                        <tr>\n                                            <th :key=\"titulo.text\" class=\"font-weight-bold\"\n                                                v-for=\"titulo in documentosHeaders\">\n                                                {{getNomeRotulosPersonalizados(titulo.value,nomeTela)}}\n                                                <span v-if=\"titulo.obrigatorio\" class=\"ml-1 red--text\">*</span>\n                                            </th>\n                                        </tr>\n                                        </thead>\n\n                                        <tbody id=\"listagemTabela\">\n                                        <tr :key=\"documento.id\" v-for=\"(documento) in documentos\">\n                                            <td style=\"width: 15vw\">\n                                                <campo-de-texto-editavel\n                                                    v-model=\"documento.numero\"\n                                                    :idObjeto=\"documento.id\"\n                                                    :estaAdicionando=\"adicionando || estaEditando && documento.id !== documentoObrigatorioId\"\n                                                    :name=\"'Numero'\"\n                                                    maxlength=\"50\"\n                                                    :counter=\"50\"\n                                                    :validate=\"!adicionando ? 'required' : ''\"\n                                                    placeholder=\"Informe o número\"\n                                                    @input=\"tratarEventoSalvar(documento)\"\n                                                    @setaEditando=\"setaEditando($event, documento)\"\n                                                    @retiraEditando=\"retiraEditando\"\n                                                    @estaAdicionando=\"estaAdicionando\"/>\n                                            </td>\n                                            <td>\n                                                <campo-de-data-editavel\n                                                    v-model=\"documento.data\"\n                                                    :idObjeto=\"documento.id\"\n                                                    :estaAdicionando=\"adicionando || estaEditando && documento.id !== documentoObrigatorioId\"\n                                                    :required=\"(!adicionando && valorDataObrigatorio) ||\n                                                    getObrigatorioRotulosPersonalizados('data', nomeTela)\"\n                                                    :editar=\"!!(!adicionando && valorDataObrigatorio && documento.id === documentoObrigatorioId)\"\n                                                    :name=\"'Data NL'\"\n                                                    @verificaObrigatoriedade=\"verificarCamposObrigatorios(documento)\"\n                                                    @input=\"tratarEventoSalvar(documento)\"\n                                                    @setaEditando=\"setaEditando($event, documento)\"\n                                                    @retiraEditando=\"retiraEditando\"\n                                                    @estaAdicionando=\"estaAdicionando\"/>\n                                            </td>\n\n                                            <td>\n                                                <campo-de-valor-editavel\n                                                    class=\"ma-0 pa-0\"\n                                                    v-model=\"documento.valor\"\n                                                    :idObjeto=\"documento.id\"\n                                                    :estaAdicionando=\"adicionando || estaEditando && documento.id !== documentoObrigatorioId\"\n                                                    :required=\"(!adicionando && valorDataObrigatorio) ||\n                                                    getObrigatorioRotulosPersonalizados('valor', nomeTela)\"\n                                                    :validation-field=\"validateRequeridAzMoney\"\n                                                    :editar=\"!!(!adicionando && valorDataObrigatorio && documento.id === documentoObrigatorioId)\"\n                                                    :name=\"'valor'+documento.id\"\n                                                    placeholder=\"Informe o valor\"\n                                                    @verificaObrigatoriedade=\"verificarCamposObrigatorios(documento)\"\n                                                    @input=\"tratarEventoSalvar(documento)\"\n                                                    @setaEditando=\"setaEditando($event, documento)\"\n                                                    @retiraEditando=\"retiraEditando\"\n                                                    @estaAdicionando=\"estaAdicionando\"/>\n                                            </td>\n\n                                            <td>\n                                                <campo-de-select-editavel\n                                                    v-model=\"documento.tipo\"\n                                                    :idObjeto=\"documento.id\"\n                                                    :estaAdicionando=\"adicionando || estaEditando && documento.id !== documentoObrigatorioId\"\n                                                    :name=\"'Tipo'\"\n                                                    :items=\"tiposDocumento\"\n                                                    placeholder=\"Selecione\"\n                                                    no-data-text=\"Não há tipos com esse nome\"\n                                                    :validate=\"!adicionando ? 'required' : ''\"\n                                                    @input=\"tratarEventoSalvar(documento)\"\n                                                    @setaEditando=\"setaEditando($event, documento)\"\n                                                    @retiraEditando=\"retiraEditando\"\n                                                    @estaAdicionando=\"estaAdicionando\"/>\n                                            </td>\n\n                                            <td class=\"larguraMinima\">\n                                                <campo-de-arquivo-editavel\n                                                    v-model=\"documento.uriAnexo\"\n                                                    :value=\"documento\"\n                                                    :idObjeto=\"documento.id\"\n                                                    :estaAdicionando=\"adicionando || estaEditando && documento.id !== documentoObrigatorioId\"\n                                                    :validate=\"!adicionando &&\n                                                    getObrigatorioRotulosPersonalizados('uriAnexo', nomeTela) ? 'required' : ''\"\n                                                    :name=\"'uriAnexo'\"\n                                                    placeholder=\"Selecione o Arquivo\"\n                                                    @input=\"tratarEventoSalvarAnexo(documento)\"\n                                                    @setaEditando=\"setaEditando($event, documento)\"\n                                                    @retiraEditando=\"retiraEditando\"\n                                                    @estaAdicionando=\"estaAdicionando\"/>\n                                            </td>\n                                            <botao-remover\n                                                :color=\"'grey'\"\n                                                @remover=\"tratarEventoDeletarDocumento(documento)\"\n                                                icon=\"fas fa-minus-circle\"/>\n                                        </tr>\n\n                                        <tr v-if=\"adicionando\">\n                                            <td>\n                                                <v-text-field\n                                                    v-model=\"docNovo.numero\"\n                                                    v-validate=\"'required'\"\n                                                    maxlength=\"50\"\n                                                    name=\"Numero\"\n                                                    :counter=\"50\"\n                                                    placeholder=\"Informe o número\"\n                                                    :error-messages=\"errors.collect('Numero')\"\n                                                    @blur=\"tratarEventoSalvar(docNovo)\"/>\n                                            </td>\n                                            <td>\n                                                <az-date\n                                                    v-model=\"docNovo.data\"\n                                                    :is-required=\"valorDataObrigatorio ||\n                                                    getObrigatorioRotulosPersonalizados('data', nomeTela)\"\n                                                    date\n                                                    placeholderDate=\"__/__/____\"\n                                                    v-mask=\"'##/##/####'\"\n                                                    name-date=\"Data\"\n                                                    @input=\"tratarEventoSalvar(docNovo)\"/>\n                                            </td>\n                                            <td @focusout=\"tratarEventoSalvar(docNovo)\">\n                                                <az-money\n                                                    v-model=\"docNovo.valor\"\n                                                    :maxLength=\"18\"\n                                                    :name=\"'valor'+validateRequeridAzMoney\"\n                                                    :required=\"valorDataObrigatorio ||\n                                                    getObrigatorioRotulosPersonalizados('valor', nomeTela)\"\n                                                    requeridMessage=\"O campo é obrigatório\"\n                                                    :validation-field=\"validateRequeridAzMoney\"\n                                                    placeholder=\"Informe o valor\"/>\n                                            </td>\n                                            <td>\n                                                <v-autocomplete\n                                                    v-model=\"docNovo.tipo\"\n                                                    :items=\"tiposDocumento\"\n                                                    item-text=\"descricao\"\n                                                    item-value=\"id\"\n                                                    name=\"Tipo\"\n                                                    no-data-text=\"Não há tipos com esse nome\"\n                                                    placeholder=\"Selecione\"\n                                                    :error-messages=\"errors.collect('Tipo')\"\n                                                    v-validate=\"'required'\"\n                                                    @input=\"tratarEventoSalvar(docNovo)\"/>\n                                            </td>\n                                            <td class=\"pb-2\">\n                                                <campo-de-arquivo-novo\n                                                    v-model=\"docNovo.uriAnexo\"\n                                                    :value=\"docNovo\"\n                                                    :validate=\"getObrigatorioRotulosPersonalizados('uriAnexo', nomeTela) ? 'required' : ''\"\n                                                    name=\"uriAnexo\"\n                                                    placeholder=\"Selecione o Arquivo\"\n                                                    @input=\"tratarEventoSalvarAnexo(docNovo)\"/>\n                                            </td>\n                                            <botao-remover\n                                                :color=\"'grey'\"\n                                                class=\"mt-5\"\n                                                @remover=\"tratarEventoDeletarDocumentoNovo\"\n                                                icon=\"fas fa-minus-circle\"/>\n                                        </tr>\n                                        </tbody>\n                                    </v-simple-table>\n                                </v-col>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n    import CampoDeTextoEditavel from '@/views/components/camposEditaveis/campo-de-texto-editavel'\n    import CampoDeDataEditavel from '@/views/components/camposEditaveis/campo-de-data-editavel'\n    import CampoDeValorEditavel from '@/views/components/camposEditaveis/campo-de-valor-editavel'\n    import CampoDeArquivoEditavel from '@/views/components/camposEditaveis/campo-de-arquivo-editavel'\n    import CampoDeSelectEditavel from '@/views/components/camposEditaveis/campo-de-select-editavel'\n    import CampoDeArquivoNovo from '@/views/components/camposEditaveis/campo-de-arquivo-novo'\n    import BotaoRemover from '@/views/components/botoes/BotaoRemover'\n    import {createNamespacedHelpers} from 'vuex'\n\n    const {mapGetters} = createNamespacedHelpers('rotulosPersonalizados')\n    export default {\n        name: 'PanelDocumentos',\n        components: {\n            CampoDeTextoEditavel,\n            CampoDeDataEditavel,\n            CampoDeValorEditavel,\n            CampoDeArquivoEditavel,\n            CampoDeSelectEditavel,\n            CampoDeArquivoNovo,\n            BotaoRemover\n        },\n        props:['anexoUpload','documentos','tiposDocumento','docNovo'],\n        data() {\n            return {\n                documentosHeaders: [\n                    {value: 'numero', obrigatorio: false},\n                    {value: 'data', obrigatorio: false},\n                    {value: 'valor', obrigatorio: false},\n                    {value: 'tipo', obrigatorio: false},\n                    {value: 'uriAnexo', obrigatorio: false},\n                ],\n                adicionando: false,\n                editando: [],\n                valorDataObrigatorio: false,\n                validateRequeridAzMoney: 0,\n                documentoObrigatorioId: null,\n                nomeTela: 'DOCUMENTOS',\n                anexo:{}\n            }\n        },\n        async mounted() {\n            await this.buscarTipoDocumentos()\n            await this.buscarTodosDocumentos()\n        },\n        computed: {\n            ...mapGetters([\n                'getNomeRotulosPersonalizados',\n                'getObrigatorioRotulosPersonalizados',\n                'getDocumentoTodosObrigatoriosValidado',\n                'getDocumentoNumeroTipoObrigatorioValidado'\n            ]),\n            estaEditando(){\n                return this.editando.length !== 0\n            }\n        },\n        watch:{\n            async anexoUpload(val){\n                this.anexo.uriAnexo = val\n                await this.tratarEventoSalvar(this.anexo)\n            }\n        },\n        methods: {\n            setaIdObrigatorio(id) {\n                this.documentoObrigatorioId = id\n            },\n            async verificarCamposObrigatorios(doc) {\n                const documentoEncontrado = this.tiposDocumento.find(element => element.id === doc.tipo)\n\n                if (documentoEncontrado &&\n                    (documentoEncontrado.descricao === 'Nota Fiscal' || documentoEncontrado.descricao === 'Nota de Empenho')) {\n                    this.valorDataObrigatorio = true\n                    this.validateRequeridAzMoney++\n                    await this.$validator._base.validateAll()\n                } else {\n                    this.valorDataObrigatorio = false\n                }\n\n                return true\n            },\n            setaEditando(value, documento) {\n                this.editando.push(value)\n                this.setaIdObrigatorio(documento.id)\n                this.verificarCamposObrigatorios(documento)\n                this.verificaObrigatoriedadeLabels()\n            },\n            retiraEditando(value) {\n                const index = this.editando.indexOf(value)\n                this.editando.splice(index, 1)\n                this.verificaObrigatoriedadeLabels()\n            },\n            abrirPanelDocumentos() {\n                setTimeout(() => {\n                    let options = {duration: 945, offset: -1, easing: 'linear',}\n                    this.$vuetify.goTo('#listagemTabela', options)\n                }, 250)\n            },\n            async novoDocumento() {\n                if (!this.validaSeEstaEditando()) {\n                    if (this.validarCadastrosFinalizados(this.docNovo)) {\n                        this.validateRequeridAzMoney = 0\n                        this.valorDataObrigatorio = false\n                        this.adicionando = true\n                        await this.$emit('criarNovoDocumento')\n                    } else {\n                        this.mostrarNotificacaoAviso('Finalize o cadastro para cadastrar novos documentos')\n                    }\n                }\n                this.verificaObrigatoriedadeLabels()\n            },\n            validarCadastrosFinalizados(obj) {\n                return Object.keys(obj).length === 0\n            },\n            validaSeEstaEditando() {\n                if (this.estaEditando) {\n                    this.mostrarNotificacaoAviso('Finalize a edição do documento antes de criar um novo')\n                    return true\n                }\n                return false\n            },\n            estaAdicionando() {\n                this.mostrarNotificacaoAviso('Finalize o cadastro para realizar a edição')\n            },\n            async buscarTodosDocumentos() {\n                await this.$emit('buscarTodosDocumentos')\n            },\n            async buscarTipoDocumentos() {\n                await this.$emit('buscarTipoDocumentos')\n                this.tiposDocumento = this.ordenaTipoDocumentos(this.tiposDocumento)\n            },\n            ordenaTipoDocumentos(resultado){\n                return resultado.sort(function(a,b) {\n                    if(a.descricao < b.descricao){\n                        return -1\n                    }else if(a.descricao > b.descricao){\n                        return 1\n                    }\n                    return 0\n                })\n            },\n            verificaObrigatoriedadeLabels(){\n                if(this.estaEditando || this.adicionando){\n                    if(this.valorDataObrigatorio){\n                        this.apresentaObrigatoriedadeLabelsExcetoUriAnexo()\n                    }else if(!this.valorDataObrigatorio){\n                        this.apresentaObrigatoriedadeLabelsNumeroTipo()\n                        this.verificaObrigatoriedadeLabelValor()\n                        this.verificaObrigatoriedadeLabelData()\n                    }\n                    this.verificaObrigatoriedadeLabelUriAnexo()\n                }else{\n                    this.escondeObrigatoriedadeLabels()\n                }\n            },\n            apresentaObrigatoriedadeLabelsExcetoUriAnexo(){\n                this.documentosHeaders[0].obrigatorio = true\n                this.documentosHeaders[1].obrigatorio = true\n                this.documentosHeaders[2].obrigatorio = true\n                this.documentosHeaders[3].obrigatorio = true\n            },\n            apresentaObrigatoriedadeLabelsNumeroTipo(){\n                this.documentosHeaders[0].obrigatorio = true\n                this.documentosHeaders[3].obrigatorio = true\n            },\n            verificaObrigatoriedadeLabelData(){\n                this.documentosHeaders[1].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('data', this.nomeTela)\n            },\n            verificaObrigatoriedadeLabelValor(){\n                this.documentosHeaders[2].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('valor', this.nomeTela)\n            },\n            verificaObrigatoriedadeLabelUriAnexo(){\n                this.documentosHeaders[4].obrigatorio = !!this.getObrigatorioRotulosPersonalizados('uriAnexo', this.nomeTela)\n            },\n            escondeObrigatoriedadeLabels(){\n                this.documentosHeaders[0].obrigatorio = false\n                this.documentosHeaders[1].obrigatorio = false\n                this.documentosHeaders[2].obrigatorio = false\n                this.documentosHeaders[3].obrigatorio = false\n                this.documentosHeaders[4].obrigatorio = false\n            },\n            async tratarEventoSalvar(documento) {\n                if (this.getObrigatorioRotulosPersonalizados('valor', this.nomeTela)){\n                    this.validateRequeridAzMoney++\n                }\n                if (documento.valor === undefined || documento.valor === 0) {\n                    this.docNovo.valor = null\n                }\n\n                this.setaIdObrigatorio(documento.id)\n\n                if (await this.verificarCamposObrigatorios(documento)) {\n                    this.verificaObrigatoriedadeLabels()\n                    documento = this.retiraEspacosVazios(documento)\n\n                    this.desabilitarLoadingGlobal()\n\n                    const estaValidado =  await this.$validator._base.validateAll()\n\n                    if (estaValidado && this.verificarValidacaoCamposObrigatorios(documento)) {\n                        if (typeof documento.id == 'undefined') {\n                            await this.$emit('salvarDocumento', documento)\n                            this.$emit('resetarDocumentoNovo')\n                            this.adicionando = false\n                            this.verificaObrigatoriedadeLabels()\n                        } else {\n                            await this.$emit('editarDocumento', documento)\n                        }\n                    }\n                    this.habilitarLoadingGlobal()\n                }\n            },\n            verificarValidacaoCamposObrigatorios(documento) {\n                return this.valorDataObrigatorio\n                    ? (this.getDocumentoTodosObrigatoriosValidado(documento, this.nomeTela))\n                    : (this.getDocumentoNumeroTipoObrigatorioValidado(documento, this.nomeTela))\n            },\n            retiraEspacosVazios(documento) {\n                if (documento.numero) {\n                    documento.numero = documento.numero.trim()\n                }\n                return documento\n            },\n            async tratarEventoSalvarAnexo(anexo) {\n                this.desabilitarLoadingGlobal()\n                if (anexo.uriAnexo) {\n                    this.anexo = anexo\n                    await this.$emit('uploadAnexo', this.anexo)\n                }\n                this.habilitarLoadingGlobal()\n            },\n            async tratarEventoDeletarDocumento(documento) {\n                this.desabilitarLoadingGlobal()\n                const estaEditandoDocumento = this.editando.find(element => element.id === documento.id)\n                if(estaEditandoDocumento) this.retiraEditando(estaEditandoDocumento)\n                await this.$emit('removerDocumento', documento)\n                this.habilitarLoadingGlobal()\n                this.verificaObrigatoriedadeLabels()\n            },\n            async tratarEventoDeletarDocumentoNovo() {\n                this.adicionando = false\n                this.$emit('resetarDocumentoNovo')\n                this.verificaObrigatoriedadeLabels()\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\" scoped>\n\n    .session-title\n        font-size 15px\n        font-weight bold\n        color #777 !important\n\n    .documentos\n        border solid 1px #e7e7e7 !important\n        border-radius 5px !important\n        box-shadow none\n\n    .documentos-panel\n        border-radius 5px !important\n\n        .v-expansion-panel-content__wrap\n            padding 0 10px 16px !important\n\n    .documentos-panel-header\n        border-bottom solid 1px #e7e7e7 !important\n        background-color #F6F6F6\n        border-radius 5px !important\n        min-height 20px !important\n        padding-bottom 10px\n        padding-top 10px\n\n    .alturaRolagem\n        overflow-y: auto\n\n    .larguraMinima\n        padding 0px 16px 0px 16px !important\n        width 204px\n\n    .tamanhoPermitidoClass\n        color #a5a5a5\n        margin-top -10px\n        font-size 12px\n\n    .campo-input-edit\n        .v-text-field\n            .v-label\n                color #777 !important\n                font-weight bold\n                font-size 13px\n                overflow unset\n                pointer-events auto\n                top 0\n\n            input:-webkit-autofill\n                background-color white !important\n\n            input\n                font-size 13px\n                color #888 !important\n\n            .v-label--active\n                -webkit-transform translateY(-18px)\n                transform translateY(-18px)\n\n            .v-select__selection--comma\n                font-size 13px\n                color #888 !important\n</style>\n"],"sourceRoot":"src/views/components/panel/panel-documentos"}]}