{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGerais.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGerais.vue","mtime":1616503102784},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@babel/runtime/regenerator\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport { actionTypes } from '@/core/constants';\nimport _ from 'lodash';\nimport FichaPatrimonioDadosGeraisCabecalho from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCabecalho';\nimport FichaPatrimonioDadosGeraisCampos from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCampos';\nimport FichaPatrimonioDadosGeraisDepreciacao from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisDepreciacao';\nexport default {\n  name: 'FichaPatrimonioDadosGerais',\n  components: {\n    FichaPatrimonioDadosGeraisDepreciacao: FichaPatrimonioDadosGeraisDepreciacao,\n    FichaPatrimonioDadosGeraisCampos: FichaPatrimonioDadosGeraisCampos,\n    FichaPatrimonioDadosGeraisCabecalho: FichaPatrimonioDadosGeraisCabecalho\n  },\n  props: {\n    dadosFicha: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      patrimonio: {},\n      depreciacoesDoBem: []\n    };\n  },\n  watch: {\n    'dadosFicha': function dadosFicha() {\n      this.preencherPatrimonio();\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.buscarDepreciacoesDoBem();\n\n            case 2:\n              this.buscarPatrimonio();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: _objectSpread(_objectSpread({}, mapActions([actionTypes.PATRIMONIO.ATUALIZAR_PATRIMONIO, actionTypes.PATRIMONIO.BUSCAR_DEPRECIACOES, actionTypes.PATRIMONIO.INCORPORACAO.INCORPORACAO_ITEM.IMAGEM.UPLOAD])), {}, {\n    buscarPatrimonio: function buscarPatrimonio() {\n      this.$emit('buscarPatrimonio');\n    },\n    preencherPatrimonio: function preencherPatrimonio() {\n      this.patrimonio = _.cloneDeep(this.dadosFicha);\n    },\n    atualizar: function () {\n      var _atualizar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(patrimonio) {\n        var patrimonioNovo, resultado;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.tratarEventoUploadImagem(patrimonio);\n\n              case 2:\n                patrimonioNovo = this.criaPatrimonioParaAtualizacao(patrimonio);\n                _context2.next = 5;\n                return this.atualizarPatrimonio(patrimonioNovo);\n\n              case 5:\n                resultado = _context2.sent;\n\n                if (resultado) {\n                  this.setaAtualizacaoDeCamposEditados(resultado);\n                }\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function atualizar(_x) {\n        return _atualizar.apply(this, arguments);\n      }\n\n      return atualizar;\n    }(),\n    tratarEventoUploadImagem: function () {\n      var _tratarEventoUploadImagem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(itemAnexo) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.desabilitarLoadingGlobal();\n\n                if (!(itemAnexo.imagem && _typeof(itemAnexo.imagem) == 'object')) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                itemAnexo = {\n                  uriImagem: itemAnexo.imagem\n                };\n                _context3.next = 5;\n                return this.uploadImagem(itemAnexo);\n\n              case 5:\n                this.patrimonio.uriImagem = _context3.sent;\n\n              case 6:\n                if (itemAnexo.imagem === null) {\n                  this.patrimonio.uriImagem = null;\n                }\n\n                this.habilitarLoadingGlobal();\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function tratarEventoUploadImagem(_x2) {\n        return _tratarEventoUploadImagem.apply(this, arguments);\n      }\n\n      return tratarEventoUploadImagem;\n    }(),\n    criaPatrimonioParaAtualizacao: function criaPatrimonioParaAtualizacao(patrimonio) {\n      var patrimonioNovo = {};\n      patrimonioNovo.id = patrimonio.id;\n      patrimonioNovo.uriImagem = this.patrimonio.uriImagem;\n      patrimonioNovo.placa = patrimonio.placa;\n      patrimonioNovo.renavam = patrimonio.renavam;\n      patrimonioNovo.licenciamento = patrimonio.licenciamento;\n      patrimonioNovo.motor = patrimonio.motor;\n      patrimonioNovo.chassi = patrimonio.chassi;\n      patrimonioNovo.numeroSerie = patrimonio.numeroSerie;\n      return patrimonioNovo;\n    },\n    setaAtualizacaoDeCamposEditados: function setaAtualizacaoDeCamposEditados(patrimonio) {\n      this.patrimonio.imagem = patrimonio.imagem;\n      this.patrimonio.placa = patrimonio.placa;\n      this.patrimonio.renavam = patrimonio.renavam;\n      this.patrimonio.licenciamento = patrimonio.licenciamento;\n      this.patrimonio.motor = patrimonio.motor;\n      this.patrimonio.chassi = patrimonio.chassi;\n      this.patrimonio.numeroSerie = patrimonio.numeroSerie;\n    },\n    buscarDepreciacoesDoBem: function () {\n      var _buscarDepreciacoesDoBem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.desabilitarLoadingGlobal();\n                _context4.next = 3;\n                return this.buscarDepreciacoes(this.$route.params.patrimonioId);\n\n              case 3:\n                this.depreciacoesDoBem = _context4.sent;\n                this.habilitarLoadingGlobal();\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function buscarDepreciacoesDoBem() {\n        return _buscarDepreciacoesDoBem.apply(this, arguments);\n      }\n\n      return buscarDepreciacoesDoBem;\n    }()\n  })\n};",{"version":3,"sources":["FichaPatrimonioDadosGerais.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"corpo-conteiner\">\n        <ficha-patrimonio-dados-gerais-cabecalho :patrimonio=\"patrimonio\"/>\n\n        <ficha-patrimonio-dados-gerais-campos :patrimonio=\"patrimonio\" @atualizarPatrimonio=\"atualizar\"/>\n\n        <ficha-patrimonio-dados-gerais-depreciacao :patrimonio=\"patrimonio\"/>\n\n        <router-view :depreciacoesDoBem=\"depreciacoesDoBem\"/>\n    </div>\n\n</template>\n\n<script>\n    import {mapActions} from 'vuex'\n    import {actionTypes} from '@/core/constants'\n    import _ from 'lodash'\n    import FichaPatrimonioDadosGeraisCabecalho\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCabecalho'\n    import FichaPatrimonioDadosGeraisCampos\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCampos'\n    import FichaPatrimonioDadosGeraisDepreciacao\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisDepreciacao'\n    export default {\n        name: 'FichaPatrimonioDadosGerais',\n        components: {\n            FichaPatrimonioDadosGeraisDepreciacao,\n            FichaPatrimonioDadosGeraisCampos, FichaPatrimonioDadosGeraisCabecalho},\n        props: {\n            dadosFicha: {\n                type: Object,\n                required: true\n            }\n        },\n        data(){\n            return {\n                patrimonio:{},\n                depreciacoesDoBem: []\n            }\n        },\n        watch: {\n            'dadosFicha'() {\n                this.preencherPatrimonio()\n            }\n        },\n        async mounted() {\n            await this.buscarDepreciacoesDoBem()\n            this.buscarPatrimonio()\n        },\n        methods:{\n            ...mapActions([\n                actionTypes.PATRIMONIO.ATUALIZAR_PATRIMONIO,\n                actionTypes.PATRIMONIO.BUSCAR_DEPRECIACOES,\n                actionTypes.PATRIMONIO.INCORPORACAO.INCORPORACAO_ITEM.IMAGEM.UPLOAD,\n            ]),\n            buscarPatrimonio() {\n                this.$emit('buscarPatrimonio')\n            },\n            preencherPatrimonio() {\n                this.patrimonio = _.cloneDeep(this.dadosFicha)\n            },\n            async atualizar(patrimonio){\n                await this.tratarEventoUploadImagem(patrimonio)\n                const patrimonioNovo = this.criaPatrimonioParaAtualizacao(patrimonio)\n                const resultado = await this.atualizarPatrimonio(patrimonioNovo)\n                if(resultado){\n                    this.setaAtualizacaoDeCamposEditados(resultado)\n                }\n            },\n            async tratarEventoUploadImagem(itemAnexo) {\n                this.desabilitarLoadingGlobal()\n                if (itemAnexo.imagem && typeof itemAnexo.imagem == 'object') {\n                    itemAnexo = { uriImagem: itemAnexo.imagem }\n                    this.patrimonio.uriImagem = await this.uploadImagem(itemAnexo)\n                }\n                if(itemAnexo.imagem === null){\n                    this.patrimonio.uriImagem = null\n                }\n                this.habilitarLoadingGlobal()\n            },\n            criaPatrimonioParaAtualizacao(patrimonio){\n                let patrimonioNovo = {}\n                patrimonioNovo.id = patrimonio.id\n                patrimonioNovo.uriImagem = this.patrimonio.uriImagem\n                patrimonioNovo.placa = patrimonio.placa\n                patrimonioNovo.renavam = patrimonio.renavam\n                patrimonioNovo.licenciamento = patrimonio.licenciamento\n                patrimonioNovo.motor = patrimonio.motor\n                patrimonioNovo.chassi = patrimonio.chassi\n                patrimonioNovo.numeroSerie = patrimonio.numeroSerie\n                return patrimonioNovo\n            },\n            setaAtualizacaoDeCamposEditados(patrimonio){\n                this.patrimonio.imagem = patrimonio.imagem\n                this.patrimonio.placa = patrimonio.placa\n                this.patrimonio.renavam = patrimonio.renavam\n                this.patrimonio.licenciamento = patrimonio.licenciamento\n                this.patrimonio.motor = patrimonio.motor\n                this.patrimonio.chassi = patrimonio.chassi\n                this.patrimonio.numeroSerie = patrimonio.numeroSerie\n            },\n            async buscarDepreciacoesDoBem() {\n                this.desabilitarLoadingGlobal()\n                this.depreciacoesDoBem = await this.buscarDepreciacoes(this.$route.params.patrimonioId)\n                this.habilitarLoadingGlobal()\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n.corpo-conteiner\n    min-height 75vh\n</style>\n"],"sourceRoot":"src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais"}]}