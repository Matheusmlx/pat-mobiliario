{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/incorporacao/adicionaritem/itemincorporacao/edicao/DadosGeraisDoItemModalFormulario.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/incorporacao/adicionaritem/itemincorporacao/edicao/DadosGeraisDoItemModalFormulario.vue","mtime":1615827966844},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mutationTypes } from '@/core/constants';\nimport { createNamespacedHelpers, mapMutations } from 'vuex';\nimport LabelPersonalizado from '@/views/components/label/LabelPersonalizado';\n\nvar _createNamespacedHelp = createNamespacedHelpers('rotulosPersonalizados'),\n    mapGetters = _createNamespacedHelp.mapGetters;\n\nexport default {\n  components: {\n    LabelPersonalizado: LabelPersonalizado\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },\n  props: {\n    dadosDeEntrada: {\n      type: Object,\n      required: true\n    },\n    naturezasDespesa: {\n      type: Array,\n      required: true\n    },\n    estadosConservacao: {\n      type: Array,\n      required: true\n    },\n    anoFabricacaoModelo: {\n      type: Array,\n      required: true\n    },\n    naturezaDespesaInativo: {\n      type: Boolean,\n      required: true\n    },\n    apresentaTooltipImagem: {\n      type: Boolean,\n      required: true\n    },\n    errorObrigatoriedadeAnexo: {\n      type: Number,\n      required: true\n    },\n    errorTamanhoExcedido: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      mostraErroSituacao: false,\n      nomeAnexo: '',\n      maskQuantidade: '######',\n      nomeTela: 'ITEM_INCORPORACAO'\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.tratarCampoAnexo();\n              this.verificaSePodeProsseguir();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  watch: {\n    'dadosDeEntrada.uriImagem': function () {\n      var _dadosDeEntradaUriImagem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.tratarCampoAnexo();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function dadosDeEntradaUriImagem() {\n        return _dadosDeEntradaUriImagem.apply(this, arguments);\n      }\n\n      return dadosDeEntradaUriImagem;\n    }(),\n    'dadosDeEntrada.tipoBem': function dadosDeEntradaTipoBem(val) {\n      this.dadosDeEntrada.tipoBem = this.$options.filters.tipoBem(val);\n    },\n    dadosDeEntrada: {\n      handler: function () {\n        var _handler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  this.verificaSePodeProsseguir();\n\n                case 1:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function handler() {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n      deep: true\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters(['getObrigatorioRotulosPersonalizados', 'getItemIncorporacaoValidado'])), {}, {\n    contaContabil: {\n      get: function get() {\n        var value = this.dadosDeEntrada.contaContabil;\n\n        if (value && value.codigo) {\n          var codigo1 = value.codigo.substr(0, 2);\n          var codigo2 = value.codigo.substr(2, 3);\n          var codigo3 = value.codigo.substr(5, 2);\n          var codigo4 = value.codigo.substr(7, 2);\n          return \"\".concat(codigo1, \".\").concat(codigo2, \".\").concat(codigo3, \".\").concat(codigo4, \" - \").concat(value.descricao);\n        }\n\n        return null;\n      }\n    }\n  }),\n  methods: _objectSpread(_objectSpread({}, mapMutations([mutationTypes.PATRIMONIO.RESETA_PAGE_PATRIMONIO])), {}, {\n    salvarFormulario: function () {\n      var _salvarFormulario = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.$emit('editarItem', this.dadosDeEntrada);\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function salvarFormulario() {\n        return _salvarFormulario.apply(this, arguments);\n      }\n\n      return salvarFormulario;\n    }(),\n    verificaSePodeProsseguir: function verificaSePodeProsseguir() {\n      if (this.getItemIncorporacaoValidado(this.dadosDeEntrada, this.tipoVeiculo(), this.nomeTela)) {\n        this.$emit('bloquearPasso3', false);\n      } else {\n        this.$emit('bloquearPasso3', true);\n      }\n    },\n    tipoVeiculo: function tipoVeiculo() {\n      return this.dadosDeEntrada.tipoBem === 'Veículo';\n    },\n    tratarCampoAnexo: function tratarCampoAnexo() {\n      if (typeof this.dadosDeEntrada.uriImagem == 'string') {\n        this.nomeAnexo = this.dadosDeEntrada.uriImagem.split('/')[1];\n      }\n    },\n    tratarCampoQuantidade: function tratarCampoQuantidade() {\n      if (this.dadosDeEntrada.quantidade === '' || this.dadosDeEntrada.quantidade === null) {\n        this.dadosDeEntrada.quantidade = 0;\n      }\n\n      this.dadosDeEntrada.quantidade = parseInt(this.dadosDeEntrada.quantidade);\n\n      if (this.dadosDeEntrada.quantidade === 0) {\n        this.dadosDeEntrada.quantidade = null;\n      }\n\n      this.resetaPagePatrimonio();\n      this.salvarFormulario();\n    },\n    mostrarErroSituacao: function mostrarErroSituacao() {\n      this.mostraErroSituacao = true;\n    },\n    anularCampoAnexo: function anularCampoAnexo() {\n      this.dadosDeEntrada.uriImagem = null;\n      this.errorObrigatoriedadeAnexo = 0;\n      this.errorTamanhoExcedido = 0;\n      this.$emit('editarItem', this.dadosDeEntrada);\n    },\n    tratarEventoSalvarAnexo: function () {\n      var _tratarEventoSalvarAnexo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.$emit('salvarAnexo', this.dadosDeEntrada);\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function tratarEventoSalvarAnexo() {\n        return _tratarEventoSalvarAnexo.apply(this, arguments);\n      }\n\n      return tratarEventoSalvarAnexo;\n    }(),\n    atualizarValorInserido: function atualizarValorInserido(dadosDeEntrada) {\n      this.dadosDeEntrada.valorTotal = dadosDeEntrada;\n      this.salvarFormulario();\n    },\n    filtroComboAutoComplete: function filtroComboAutoComplete(item, queryText) {\n      var text = item.nome.toLowerCase();\n      var searchText = queryText.toLowerCase();\n      return text.indexOf(searchText) > -1;\n    },\n    obterLarguraAutoComplete: function obterLarguraAutoComplete(ref) {\n      if (this.$refs[ref] && this.$refs[ref].$el) {\n        return {\n          width: this.$refs[ref].$el.clientWidth - 30 + 'px'\n        };\n      }\n\n      return {};\n    }\n  })\n};",{"version":3,"sources":["DadosGeraisDoItemModalFormulario.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuSA,SAAA,aAAA,QAAA,kBAAA;AACA,SAAA,uBAAA,EAAA,YAAA,QAAA,MAAA;AACA,OAAA,kBAAA,MAAA,6CAAA;;4BAEA,uBAAA,CAAA,uBAAA,C;IAAA,U,yBAAA,U;;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,kBAAA,EAAA;AAAA,GADA;AAEA,EAAA,aAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KALA;AASA,IAAA,kBAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KATA;AAaA,IAAA,mBAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAbA;AAiBA,IAAA,sBAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAjBA;AAqBA,IAAA,sBAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA,KArBA;AAyBA,IAAA,yBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAzBA;AA6BA,IAAA,oBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AA7BA,GALA;AAuCA,EAAA,IAvCA,kBAuCA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,QAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GA9CA;AA+CA,EAAA,OA/CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgDA,mBAAA,gBAAA;AACA,mBAAA,wBAAA;;AAjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAmDA,EAAA,KAAA,EAAA;AACA,8BADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,gBAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAIA,8BAAA,+BAAA,GAAA,EAAA;AACA,WAAA,cAAA,CAAA,OAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AACA,KANA;AAOA,IAAA,cAAA,EAAA;AACA,MAAA,OADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAAA,wBAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAIA,MAAA,IAAA,EAAA;AAJA;AAPA,GAnDA;AAiEA,EAAA,QAAA,kCACA,UAAA,CAAA,CACA,qCADA,EAEA,6BAFA,CAAA,CADA;AAMA,IAAA,aAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,YAAA,KAAA,GAAA,KAAA,cAAA,CAAA,aAAA;;AACA,YAAA,KAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,cAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,cAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,cAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,cAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,2BAAA,OAAA,cAAA,OAAA,cAAA,OAAA,cAAA,OAAA,gBAAA,KAAA,CAAA,SAAA;AACA;;AACA,eAAA,IAAA;AACA;AAXA;AANA,IAjEA;AAqFA,EAAA,OAAA,kCACA,YAAA,CAAA,CACA,aAAA,CAAA,UAAA,CAAA,sBADA,CAAA,CADA;AAIA,IAAA,gBAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKA,KAAA,KAAA,CAAA,YAAA,EAAA,KAAA,cAAA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAOA,IAAA,wBAPA,sCAOA;AACA,UAAA,KAAA,2BAAA,CAAA,KAAA,cAAA,EAAA,KAAA,WAAA,EAAA,EAAA,KAAA,QAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,gBAAA,EAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,gBAAA,EAAA,IAAA;AACA;AACA,KAbA;AAcA,IAAA,WAdA,yBAcA;AACA,aAAA,KAAA,cAAA,CAAA,OAAA,KAAA,SAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,8BAiBA;AACA,UAAA,OAAA,KAAA,cAAA,CAAA,SAAA,IAAA,QAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,cAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA;AACA,KArBA;AAsBA,IAAA,qBAtBA,mCAsBA;AACA,UAAA,KAAA,cAAA,CAAA,UAAA,KAAA,EAAA,IACA,KAAA,cAAA,CAAA,UAAA,KAAA,IADA,EACA;AACA,aAAA,cAAA,CAAA,UAAA,GAAA,CAAA;AACA;;AACA,WAAA,cAAA,CAAA,UAAA,GAAA,QAAA,CACA,KAAA,cAAA,CAAA,UADA,CAAA;;AAGA,UAAA,KAAA,cAAA,CAAA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,cAAA,CAAA,UAAA,GAAA,IAAA;AACA;;AACA,WAAA,oBAAA;AACA,WAAA,gBAAA;AACA,KAnCA;AAoCA,IAAA,mBApCA,iCAoCA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,KAtCA;AAuCA,IAAA,gBAvCA,8BAuCA;AACA,WAAA,cAAA,CAAA,SAAA,GAAA,IAAA;AACA,WAAA,yBAAA,GAAA,CAAA;AACA,WAAA,oBAAA,GAAA,CAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,cAAA;AACA,KA5CA;AA6CA,IAAA,uBA7CA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8CA,qBAAA,KAAA,CAAA,aAAA,EAAA,KAAA,cAAA;;AA9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgDA,IAAA,sBAhDA,kCAgDA,cAhDA,EAgDA;AACA,WAAA,cAAA,CAAA,UAAA,GAAA,cAAA;AACA,WAAA,gBAAA;AACA,KAnDA;AAoDA,IAAA,uBApDA,mCAoDA,IApDA,EAoDA,SApDA,EAoDA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,IAAA,CAAA,WAAA,EAAA;AACA,UAAA,UAAA,GAAA,SAAA,CAAA,WAAA,EAAA;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,CAAA,CAAA;AACA,KAxDA;AAyDA,IAAA,wBAzDA,oCAyDA,GAzDA,EAyDA;AACA,UAAA,KAAA,KAAA,CAAA,GAAA,KAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA,eAAA;AACA,UAAA,KAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,CAAA,WAAA,GAAA,EAAA,GAAA;AADA,SAAA;AAGA;;AACA,aAAA,EAAA;AACA;AAhEA;AArFA,CAAA","sourcesContent":["<template>\n    <v-form ref=\"form\" class=\"az-form-content az-formItem mt-0 pl-0 pr-0\">\n        <v-container fluid>\n            <v-row class=\"layoutModal\">\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model=\"dadosDeEntrada.marca\"\n                        v-validate=\"getObrigatorioRotulosPersonalizados('marca', nomeTela) ? 'required|max:100' : ''\"\n                        name=\"marca\"\n                        :error-messages=\"errors.collect('marca')\"\n                        placeholder=\"Informe a marca\"\n                        counter=\"100\"\n                        maxlength=\"100\"\n                        @focusout=\"salvarFormulario\"\n                        @change=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"marca\" :tela=\"nomeTela\"/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model=\"dadosDeEntrada.modelo\"\n                        v-validate=\"getObrigatorioRotulosPersonalizados('modelo', nomeTela) ? 'required|max:100' : ''\"\n                        name=\"modelo\"\n                        :error-messages=\"errors.collect('modelo')\"\n                        placeholder=\"Informe o modelo\"\n                        counter=\"100\"\n                        maxlength=\"100\"\n                        @focusout=\"salvarFormulario\"\n                        @change=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"modelo\" :tela=\"nomeTela\"/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model=\"dadosDeEntrada.fabricante\"\n                        v-validate=\"getObrigatorioRotulosPersonalizados('fabricante', nomeTela) ? 'required|max:100' : ''\"\n                        name=\"fabricante\"\n                        :error-messages=\"errors.collect('fabricante')\"\n                        placeholder=\"Informe o fabricante\"\n                        counter=\"100\"\n                        maxlength=\"100\"\n                        @change=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"fabricante\" :tela=\"nomeTela\"/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model.number=\"dadosDeEntrada.quantidade\"\n                        v-validate=\"'required|max:6'\"\n                        name=\"quantidade\"\n                        v-mask=\"maskQuantidade\"\n                        :error-messages=\"errors.collect('quantidade')\"\n                        min=\"0\"\n                        maxlength=\"4\"\n                        placeholder=\"Informe a quantidade de itens\"\n                        @focusout=\"tratarCampoQuantidade\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"quantidade\" :tela=\"nomeTela\" obrigatorioPorPadrao/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n\n                <v-col :class=\"['valorTotal']\" cols=\"4\">\n                    <az-money\n                        v-if=\"dadosDeEntrada.id\"\n                        v-model=\"dadosDeEntrada.valorTotal\"\n                        :maxLength=\"10\"\n                        :validate-length=\"true\"\n                        :event-submit=\"'blur'\"\n                        :required=\"true\"\n                        class=\"botaoExcluirMoney\"\n                        :placeholder=\"'Informe o valor'\"\n                        @input=\"atualizarValorInserido($event)\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"valorTotal\" :tela=\"nomeTela\" obrigatorioPorPadrao/>\n                        </template>\n                    </az-money>\n                </v-col>\n\n                <v-col cols=\"4\">\n                    <v-radio-group\n                        v-model=\"dadosDeEntrada.numeracaoPatrimonial\"\n                        :mandatory=\"false\"\n                        row\n                        v-validate=\"'required'\"\n                        name=\"numeracaoPatrimonio\"\n                        :error-messages=\"mostraErroSituacao ? errors.collect('numeracaoPatrimonio') : ''\"\n                        class=\"az-text radio-numeracao-patrimonial\"\n                        @change=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"numeracaoPatrimonial\" :tela=\"nomeTela\" obrigatorioPorPadrao apresentaTooltip/>\n                        </template>\n                        <v-radio label=\"Reserva\" value=\"RESERVA\" name=\"RESERVA\" disabled/>\n                        <v-radio\n                            disabled\n                            label=\"Automática\"\n                            value=\"AUTOMATICA\"\n                            name=\"AUTOMATICA\"\n                            @blur=\"mostrarErroSituacao\"\n                        />\n                    </v-radio-group>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-autocomplete\n                        v-model=\"dadosDeEntrada.naturezaDespesa\"\n                        item-text=\"despesa\"\n                        item-value=\"id\"\n                        no-data-text=\"Não há naturezas de despesa com este nome\"\n                        :return-object=\"false\"\n                        name=\"naturezaDespesa\"\n                        ref=\"autoCompleteNaturezaDespesa\"\n                        v-validate=\"'required'\"\n                        :items=\"naturezasDespesa\"\n                        :placeholder=\"'Selecione a natureza de despesa do item'\"\n                        :filter=\"filtroComboAutoComplete\"\n                        :error-messages=\"errors.collect('naturezaDespesa')\"\n                        @change=\"salvarFormulario($event)\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"naturezaDespesa\" :tela=\"nomeTela\" obrigatorioPorPadrao/>\n                        </template>\n                        <template slot=\"selection\" slot-scope=\"data\">\n                            <span style=\"max-width: 100%; font-size: 12px; color: gray\" class=\"text-truncate\"> {{ data.item.despesa }} - {{ data.item.descricao }} </span>\n                        </template>\n                        <template slot=\"item\" slot-scope=\"data\">\n                            <span\n                                :style=\"obterLarguraAutoComplete('autoCompleteNaturezaDespesa')\"\n                                style=\"font-size: 12px\" class=\"text-truncate\">\n                                {{ data.item.despesa }} - {{ data.item.descricao }}\n                            </span>\n                        </template>\n                        <template v-slot:append-outer v-if=\"naturezaDespesaInativo\">\n                            <tooltip-campos-inativos mensagem=\"Esta natureza de despesa foi inativada, por favor selecione outra!\"/>\n                        </template>\n                    </v-autocomplete>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model=\"contaContabil\"\n                        :return-object=\"false\"\n                        placeholder=\" \"\n                        disabled>\n                        <template v-slot:label>\n                            <label-personalizado campo=\"contaContabil\" :tela=\"nomeTela\" :apresentaTooltip=\"true\"/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-text-field\n                        v-model=\"dadosDeEntrada.tipoBem\"\n                        placeholder=\" \"\n                        disabled>\n                        <template v-slot:label>\n                            <label-personalizado campo=\"tipoBem\" :tela=\"nomeTela\" :apenasNome=\"true\"/>\n                        </template>\n                    </v-text-field>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-select\n                        v-model=\"dadosDeEntrada.estadoConservacao\"\n                        placeholder=\"Selecione um estado de conservação\"\n                        :items=\"estadosConservacao\"\n                        item-text=\"nome\"\n                        item-value=\"id\"\n                        :insertNullItem=\"false\"\n                        is-required\n                        @input=\"salvarFormulario\"\n                        name=\"EstadoDeConservacao\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"estadoConservacao\" :tela=\"nomeTela\" obrigatorioPorPadrao/>\n                        </template>\n                    </v-select>\n                </v-col>\n                <v-col cols=\"4\">\n                    <v-tooltip top nudge-top max-width=\"800\" v-model=\"apresentaTooltipImagem\">\n                        <template v-slot:activator=\"{ on, attrs }\">\n                            <div v-on=\"on\"  v-bind=\"attrs\">\n                                <v-file-input\n                                    class=\"mt-3\"\n                                    v-model=\"dadosDeEntrada.uriImagem\"\n                                    v-if=\"!dadosDeEntrada.uriImagem\"\n                                    file\n                                    dense\n                                    name=\"uriImagem\"\n                                    outlined\n                                    append-icon=\"fa-file-upload\"\n                                    prepend-icon\n                                    accept=\"image/png, image/jpeg, image/jpg\"\n                                    placeholder=\"Selecione uma imagem\"\n                                    @change=\"tratarEventoSalvarAnexo\">\n                                    <template v-slot:label>\n                                        <label-personalizado campo=\"uriImagem\" :tela=\"nomeTela\"/>\n                                    </template>\n                                </v-file-input>\n                                <v-text-field\n                                    outlined\n                                    readonly\n                                    v-if=\"dadosDeEntrada.uriImagem\"\n                                    :value=\"nomeAnexo\">\n                                    <template v-slot:label>\n                                        <label-personalizado campo=\"uriImagem\" :tela=\"nomeTela\"/>\n                                    </template>\n                                    <template v-slot:append>\n                                        <v-tooltip top>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <a\n                                                    v-on=\"on\"\n                                                    slot=\"activator\"\n                                                    v-on:click=\"anularCampoAnexo\"\n                                                    target=\"_blank\"\n                                                    class=\"az-action-link-icon mt-1\">\n                                                    <i class=\"fas fa-times-circle\"></i>\n                                                </a>\n                                            </template>\n                                            Remover\n                                        </v-tooltip>\n                                    </template>\n                                    <template v-slot:append-outer>\n                                        <v-tooltip v-if=\"dadosDeEntrada.id\" top>\n                                            <template v-slot:activator=\"{ on }\">\n                                                <a v-on=\"on\"\n                                                   slot=\"activator\"\n                                                   :href=\"criarLinkDownload(dadosDeEntrada.uriImagem)\"\n                                                   target=\"_blank\"\n                                                   class=\"az-action-link-icon mt-1\">\n                                                    <i class=\"fas fa-download\"></i>\n                                                </a>\n                                            </template>\n                                            Download\n                                        </v-tooltip>\n                                    </template>\n                                </v-text-field>\n                            </div>\n                        </template>\n                        Até 15mb\n                    </v-tooltip>\n                </v-col>\n                <v-col cols=\"4\" v-if=\"dadosDeEntrada.tipoBem === 'Veículo'\">\n                    <v-autocomplete\n                        v-model=\"dadosDeEntrada.anoFabricacaoModelo\"\n                        :items=\"anoFabricacaoModelo\"\n                        placeholder=\"Informe o ano de fabricacao/modelo\"\n                        name=\"anoFabricacaoModelo\"\n                        v-validate=\"getObrigatorioRotulosPersonalizados('anoFabricacaoModelo', nomeTela) ? 'required' : ''\"\n                        :error-messages=\"errors.collect('anoFabricacaoModelo')\"\n                        @focusout=\"salvarFormulario\"\n                        @change=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"anoFabricacaoModelo\" :tela=\"nomeTela\"/>\n                        </template>\n                    </v-autocomplete>\n                </v-col>\n                <v-col cols=\"4\" v-if=\"dadosDeEntrada.tipoBem === 'Veículo'\">\n                    <az-combo-enum\n                        v-model=\"dadosDeEntrada.combustivel\"\n                        placeholder=\"Selecione\"\n                        maxlength=\"100\"\n                        name=\"CombustivelVeiculo\"\n                        :order-by=\"'value'\"\n                        :is-required=\"getObrigatorioRotulosPersonalizados('combustivel', nomeTela)\"\n                        :enum-object=\"combustivelItemIncorporacao\"\n                        :insertNullItem=\"false\"\n                        @input=\"salvarFormulario\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"combustivel\" :tela=\"nomeTela\"/>\n                        </template>\n                    </az-combo-enum>\n                </v-col>\n                <v-col cols=\"4\" v-if=\"dadosDeEntrada.tipoBem === 'Veículo'\">\n                    <az-combo-enum\n                        v-model=\"dadosDeEntrada.categoria\"\n                        placeholder=\"Selecione\"\n                        maxlength=\"100\"\n                        name=\"CategoriaVeiculo\"\n                        :is-required=\"getObrigatorioRotulosPersonalizados('categoria', nomeTela)\"\n                        :enum-object=\"categoriaItemIncorporacao\"\n                        :insertNullItem=\"false\"\n                        @input=\"salvarFormulario\"\n                        order-by=\"''\">\n                        <template v-slot:label>\n                            <label-personalizado campo=\"categoria\" :tela=\"nomeTela\"/>\n                        </template>\n                    </az-combo-enum>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-form>\n</template>\n\n<script>\n    import {mutationTypes} from '@/core/constants'\n    import {createNamespacedHelpers, mapMutations} from 'vuex'\n    import LabelPersonalizado from '@/views/components/label/LabelPersonalizado'\n\n    const {mapGetters} = createNamespacedHelpers('rotulosPersonalizados')\n\n    export default {\n        components: {LabelPersonalizado},\n        $_veeValidate: {\n            validator: 'new',\n        },\n        props: {\n            dadosDeEntrada: {\n                type: Object,\n                required: true\n            },\n            naturezasDespesa: {\n                type: Array,\n                required: true\n            },\n            estadosConservacao: {\n                type: Array,\n                required: true\n            },\n            anoFabricacaoModelo: {\n                type: Array,\n                required: true\n            },\n            naturezaDespesaInativo:{\n                type: Boolean,\n                required: true\n            },\n            apresentaTooltipImagem: {\n                type: Boolean,\n                required: true\n            },\n            errorObrigatoriedadeAnexo: {\n                type: Number,\n                required: true\n            },\n            errorTamanhoExcedido: {\n                type: Number,\n                required: true\n            },\n        },\n        data() {\n            return {\n                mostraErroSituacao: false,\n                nomeAnexo: '',\n                maskQuantidade: '######',\n                nomeTela: 'ITEM_INCORPORACAO'\n            }\n        },\n        async mounted() {\n            this.tratarCampoAnexo()\n            this.verificaSePodeProsseguir()\n        },\n        watch: {\n            async 'dadosDeEntrada.uriImagem'() {\n                this.tratarCampoAnexo()\n            },\n            'dadosDeEntrada.tipoBem': function (val) {\n                this.dadosDeEntrada.tipoBem = this.$options.filters.tipoBem(val)\n            },\n            dadosDeEntrada: {\n                async handler() {\n                    this.verificaSePodeProsseguir()\n                },\n                deep: true\n            },\n        },\n        computed: {\n            ...mapGetters([\n                'getObrigatorioRotulosPersonalizados',\n                'getItemIncorporacaoValidado',\n            ]),\n\n            contaContabil: {\n                get() {\n                    const value = this.dadosDeEntrada.contaContabil\n                    if (value && value.codigo) {\n                        let codigo1 = value.codigo.substr(0,2)\n                        let codigo2 = value.codigo.substr(2,3)\n                        let codigo3 = value.codigo.substr(5,2)\n                        let codigo4 = value.codigo.substr(7,2)\n                        return `${codigo1}.${codigo2}.${codigo3}.${codigo4} - ${value.descricao}`\n                    }\n                    return null\n                }\n            },\n        },\n        methods: {\n            ...mapMutations([\n                mutationTypes.PATRIMONIO.RESETA_PAGE_PATRIMONIO\n            ]),\n            async salvarFormulario() {\n                await this.$emit('editarItem', this.dadosDeEntrada)\n            },\n            verificaSePodeProsseguir() {\n                if (this.getItemIncorporacaoValidado(this.dadosDeEntrada, this.tipoVeiculo(), this.nomeTela)) {\n                    this.$emit('bloquearPasso3', false)\n                } else {\n                    this.$emit('bloquearPasso3', true)\n                }\n            },\n            tipoVeiculo() {\n                return this.dadosDeEntrada.tipoBem === 'Veículo'\n            },\n            tratarCampoAnexo() {\n                if (typeof this.dadosDeEntrada.uriImagem == 'string') {\n                    this.nomeAnexo = this.dadosDeEntrada.uriImagem.split('/')[1]\n                }\n            },\n            tratarCampoQuantidade() {\n                if (this.dadosDeEntrada.quantidade === '' ||\n                    this.dadosDeEntrada.quantidade === null) {\n                    this.dadosDeEntrada.quantidade = 0\n                }\n                this.dadosDeEntrada.quantidade = parseInt(\n                    this.dadosDeEntrada.quantidade\n                )\n                if (this.dadosDeEntrada.quantidade === 0) {\n                    this.dadosDeEntrada.quantidade = null\n                }\n                this.resetaPagePatrimonio()\n                this.salvarFormulario()\n            },\n            mostrarErroSituacao() {\n                this.mostraErroSituacao = true\n            },\n            anularCampoAnexo() {\n                this.dadosDeEntrada.uriImagem = null\n                this.errorObrigatoriedadeAnexo = 0\n                this.errorTamanhoExcedido = 0\n                this.$emit('editarItem', this.dadosDeEntrada)\n            },\n            async tratarEventoSalvarAnexo() {\n                this.$emit('salvarAnexo', this.dadosDeEntrada)\n            },\n            atualizarValorInserido(dadosDeEntrada) {\n                this.dadosDeEntrada.valorTotal = dadosDeEntrada\n                this.salvarFormulario()\n            },\n            filtroComboAutoComplete(item, queryText) {\n                const text = item.nome.toLowerCase()\n                const searchText = queryText.toLowerCase()\n                return text.indexOf(searchText) > -1\n            },\n            obterLarguraAutoComplete(ref) {\n                if (this.$refs[ref] && this.$refs[ref].$el) {\n                    return {\n                        width: (this.$refs[ref].$el.clientWidth-30)+'px'\n                    }\n                }\n                return {}\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\">\n    .layoutModal\n        background #FFF !important\n        padding 15px\n        margin 0px\n\n    .botaoExcluirMoney .v-icon.v-icon\n        font-size 16px !important\n\n    .az-formItem\n        padding-bottom 0px\n        margin-bottom 0px\n        height auto\n\n    .tamanhoPermitidoClass\n        color #a5a5a5\n        margin-top -10px\n        font-size 12px\n\n    .radio-numeracao-patrimonial\n        cursor not-allowed\n\n</style>\n"],"sourceRoot":"src/views/components/modal/incorporacao/adicionaritem/itemincorporacao/edicao"}]}