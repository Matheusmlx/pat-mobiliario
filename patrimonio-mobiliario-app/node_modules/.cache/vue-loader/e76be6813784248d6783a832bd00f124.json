{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@azinformatica/loki/src/components/layout/AzNotification.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/@azinformatica/loki/src/components/layout/AzNotification.vue","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.loading-view-more\n    color #487b9c\n    height 25px!important\n.close-icon\n    font-size 14px!important\n.when-icon\n    font-size 14px!important\n.notification-icon\n    color white!important\n.end-notification\n    width 100%\n    text-align center\n    color gray\n    font-size 14px\n.notification\n    &__body\n        cursor pointer\n        max-height 250px\n        overflow-y auto\n        .more\n            width 100%\n            text-align center\n            color gray\n            font-size 12px\n        .v-list-item\n            display flex\n            justify-content space-between\n            border-bottom 1px solid #eee\n            width 400px\n            padding 10px 20px !important\n            height auto !important\n            .text\n                font-size 13px\n                color #777\n            .when\n                margin-top 5px\n                font-size 11px\n                color #777\n    &__top\n        padding 10px 20px\n        justify-content space-between\n        border-bottom 1px solid #eee\n        display flex\n        font-size 13px\n        color #777\n        a\n            color #777\n            margin-left 15px\n    &__unread\n        background-color #edf2fa\n\n@media (max-width 720px)\n    .notification\n        &__no-mobile\n            display none !important\n",{"version":3,"sources":["AzNotification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AzNotification.vue","sourceRoot":"node_modules/@azinformatica/loki/src/components/layout","sourcesContent":["<template>\n    <v-menu\n        offset-y\n        transition=\"slide-x-transition\"\n        bottom\n        left\n        class=\"notification notification__no-mobile\"\n        :close-on-content-click=\"false\"\n        v-model=\"menu\"\n        @input=\"setVisibility\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-btn icon v-on=\"on\" @click=\"$emit('read')\">\n                <v-badge right overlap class=\"badge-number\">\n                    <span slot=\"badge\" v-if=\"hasNotificationsToRead\">{{ notification.unread }}</span>\n                    <v-icon class=\"notification-icon\">{{notificationIcon}}</v-icon>\n                </v-badge>\n            </v-btn>\n        </template>\n        <v-list>\n            <div v-if=\"title\" class=\"notification__top\">\n                <b>{{ title }}</b>\n                <div v-if=\"enableFiltering\">\n                    <a\n                        v-for=\"filter in filters\"\n                        :key=\"filter\"\n                        :class=\"getActiveFilterClass(filter)\"\n                        @click=\"filterBy(filter)\"\n                    >\n                        {{ filter }}\n                    </a>\n                </div>\n            </div>\n            <div class=\"notification__body\" id=\"notificationContainer\" v-if=\"hasMessages\">\n                <v-list-item\n                    v-for=\"(message, index) in notification.messages\"\n                    :key=\"index\"\n                    :class=\"getNotificationCardClass(message)\"\n                >\n                    <div @click=\"visit(message)\">\n                        <div v-html=\"message.text\" class=\"text\" />\n                        <div class=\"when\">\n                            <v-icon v-if=\"whenIcon\" class=\"when-icon\">{{whenIcon}}</v-icon>\n                            {{ message.when | azElapsedTime }}\n                        </div>\n                    </div>\n                    <div v-if=\"closeIcon\">\n                        <a @click.prevent=\"$emit('remove', message)\">\n                            <v-icon class=\"close-icon\">{{closeIcon}}</v-icon>\n                        </a>\n                    </div>\n                </v-list-item>\n                <v-list-item class=\"list-item-more\" v-if=\"notification.viewMore\">\n                    <div v-if=\"isViewMoreLoading\" class=\"more\">\n                        <v-progress-circular indeterminate class=\"loading-view-more\"/>\n                    </div>\n                    <a v-else class=\"more\" @click=\"pagination\">{{viewMoreText}}</a>\n                </v-list-item>\n                <div class=\"end-notification\">\n                    <span v-if=\"endNotificationText && notification.endNotification\" id=\"notificationListEnd\">{{endNotificationText}}</span>\n                </div>\n            </div>\n            <div v-else class=\"notification notification__top\">{{noNotificationText}}</div>\n        </v-list>\n    </v-menu>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport mutationTypes from '../../store/mutation-types'\n\nexport default {\n    name: 'AzNotification',\n    props: {\n        enableFiltering: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            isOpen: false,\n            processUpdate: undefined,\n            isViewMoreLoading: false,\n            menu: false\n        }\n    },\n    watch: {\n        'notification.messages.length'() {\n            this.isViewMoreLoading = false\n        }\n    },\n    computed: {\n        ...mapState(['loki']),\n        activeFilter() {\n            return this.loki.notificationConfig.activeFilter\n        },\n        filters() {\n            return this.loki.notificationConfig.filters\n        },\n        hasMessages() {\n            return this.notification.messages && this.notification.messages.length > 0\n        },\n        hasNotificationsToRead() {\n            return this.notification.unread > 0\n        },\n        notification() {\n            return this.loki.notification\n        },\n        notificationConfig() {\n            return this.loki.notificationConfig\n        },\n        title() {\n            return this.loki.notificationConfig.title\n        },\n        notificationIcon() {\n            return this.loki.notificationConfig.notificationIcon\n        },\n        whenIcon() {\n            return this.loki.notificationConfig.whenIcon\n        },\n        closeIcon() {\n            return this.loki.notificationConfig.closeIcon\n        },\n        allowLoadingViewMore() {\n            return this.loki.notificationConfig.allowLoadingViewMore\n        },\n        endNotificationText() {\n            return this.loki.notificationConfig.endNotificationText\n        },\n        noNotificationText() {\n            return this.loki.notificationConfig.noNotificationText\n        },\n        viewMoreText(){\n            return this.loki.notificationConfig.viewMoreText\n        },\n        closeMenuOnVisit(){\n            return this.loki.notificationConfig.closeMenuOnVisit\n        }\n    },\n    created() {\n        this.setupUpdateInterval()\n    },\n    beforeDestroy() {\n        this.cancelAutoUpdate()\n    },\n    methods: {\n        ...mapMutations([mutationTypes.SET_NOTIFICATION_ACTIVE_FILTER]),\n        askForPagination() {\n            this.$emit('paginate')\n        },\n        askForRefresh() {\n            if (!this.isOpen) {\n                this.$emit('refresh', this.activeFilter)\n            }\n        },\n        cancelAutoUpdate() {\n            if (this.processUpdate) {\n                window.clearInterval(this.processUpdate)\n            }\n        },\n        filterBy(filter) {\n            this.setNotificationActiveFilter(filter)\n            this.askForRefresh()\n        },\n        getNotificationCardClass(message) {\n            return {\n                notification__card: true,\n                notification__unread: !message.read\n            }\n        },\n        getActiveFilterClass(filter) {\n            return {\n                'font-weight-bold': filter === this.activeFilter\n            }\n        },\n        setupUpdateInterval() {\n            const refreshTimeout = this.notificationConfig.refreshTimeout\n            this.processUpdate = window.setInterval(this.askForRefresh, refreshTimeout)\n        },\n        setVisibility(visibility) {\n            this.isOpen = visibility\n            if (this.isOpen) {\n                this.$emit('open')\n            } else {\n                this.$emit('close')\n            }\n        },\n        pagination() {\n            if(this.allowLoadingViewMore){\n                this.isViewMoreLoading = true\n            }\n            this.$emit('paginate')\n        },\n        visit(message){\n            if(this.closeMenuOnVisit){\n                this.menu = false\n            }\n            this.$emit('visit', message)\n        }\n    }\n}\n</script>\n\n<style lang=\"stylus\">\n.loading-view-more\n    color #487b9c\n    height 25px!important\n.close-icon\n    font-size 14px!important\n.when-icon\n    font-size 14px!important\n.notification-icon\n    color white!important\n.end-notification\n    width 100%\n    text-align center\n    color gray\n    font-size 14px\n.notification\n    &__body\n        cursor pointer\n        max-height 250px\n        overflow-y auto\n        .more\n            width 100%\n            text-align center\n            color gray\n            font-size 12px\n        .v-list-item\n            display flex\n            justify-content space-between\n            border-bottom 1px solid #eee\n            width 400px\n            padding 10px 20px !important\n            height auto !important\n            .text\n                font-size 13px\n                color #777\n            .when\n                margin-top 5px\n                font-size 11px\n                color #777\n    &__top\n        padding 10px 20px\n        justify-content space-between\n        border-bottom 1px solid #eee\n        display flex\n        font-size 13px\n        color #777\n        a\n            color #777\n            margin-left 15px\n    &__unread\n        background-color #edf2fa\n\n@media (max-width 720px)\n    .notification\n        &__no-mobile\n            display none !important\n</style>\n"]}]}