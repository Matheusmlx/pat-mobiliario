{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/configuracao/reconhecimento/listagem/ReconhecimentoForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/configuracao/reconhecimento/listagem/ReconhecimentoForm.vue","mtime":1614049852957},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState} from 'vuex'\nimport AcoesIconesSalvarCancelar from '@/views/components/acoes/AcoesIconesSalvarCancelar'\nimport BotaoIconeEditar from '@/views/components/botoes/BotaoIconeEditar'\n\nexport default {\n    name: 'ReconhecimentoForm',\n    components:{AcoesIconesSalvarCancelar, BotaoIconeEditar},\n    props: {\n        value: {\n            required: true\n        },\n        permitirAcoes: {\n            required: true\n        }\n    },\n    data: () => ({\n        modoEdicao: false,\n    }),\n    watch: {\n        'value.nome': {\n            handler(nome) {\n                if (nome.length > 100) {\n                    this.value.nome = nome.slice(0, 100)\n                }\n            }\n        },\n        'value'() {\n            this.desativarModoEdicao()\n        },\n        'todosReconhecimentos.filtros.conteudo'() {\n            this.habilitarAcoes()\n            this.desativarModoEdicao()\n            this.$emit('habilitaBotaoNovo')\n        },\n        'todosReconhecimentos.paginacao'() {\n            this.habilitarAcoes()\n            this.desativarModoEdicao()\n            this.$emit('habilitaBotaoNovo')\n        }\n    },\n    computed: {\n        ...mapState({todosReconhecimentos: state => state.reconhecimento.todosReconhecimentos}),\n        estaInserindo() {\n            if (!this.value.id) {\n                this.ativarModoEdicao()\n            }\n            return !this.value.id\n        },\n        execucaoOrcamentaria() {\n            return this.value.execucaoOrcamentaria ? 'Sim' : 'Não'\n        },\n        camposObrigatorios() {\n            if (this.value.notaFiscal && this.value.empenho) {\n                return 'Empenho, Nota Fiscal'\n            }\n            if (this.value.notaFiscal) {\n                return 'Nota Fiscal'\n            }\n            if (this.value.empenho) {\n                return 'Empenho'\n            }\n            return '----'\n        }\n    },\n    methods: {\n        ativarModoEdicao() {\n            this.modoEdicao = true\n            this.$validator.resume()\n            this.desativarAcoes()\n            this.$emit('desabilitaBotaoNovo')\n        },\n        cancelar() {\n            this.desativarModoEdicao()\n            this.$emit('cancelarEdicao')\n        },\n        desativarModoEdicao() {\n            this.$validator.pause()\n            this.modoEdicao = false\n        },\n        desativarAcoes() {\n            this.$emit('desativarAcoes')\n        },\n        habilitarAcoes() {\n            this.$emit('habilitarAcoes')\n        },\n        async salvar() {\n            if (await this.validarDadosFormulario()) {\n                if (this.estaInserindo) {\n                    this.$emit('inserirNovoReconhecimento', this.value)\n                } else {\n                    this.verificarSeCamposNulos()\n                    this.$emit('atualizarReconhecimento', this.value)\n                }\n            }\n        },\n        async validarDadosFormulario() {\n            return await this.$validator._base.validateAll()\n        },\n        verificarSeCamposNulos() {\n            if (!this.value.notaFiscal) {\n                this.value.notaFiscal = false\n            }\n            if (!this.value.empenho) {\n                this.value.empenho = false\n            }\n        }\n    }\n}\n",{"version":3,"sources":["ReconhecimentoForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReconhecimentoForm.vue","sourceRoot":"src/views/pages/configuracao/reconhecimento/listagem","sourcesContent":["<template>\n    <v-data>\n        <tr>\n            <template v-if=\"!modoEdicao\">\n                <td class=\"text-truncate max-15\">{{ value.nome }}</td>\n                <td class=\"td-situacao\">{{ value.situacao | azEnum(situacoesReconhecimento) }}</td>\n                <td>\n                    <div class=\"mt-0\">{{ execucaoOrcamentaria }}</div>\n                </td>\n                <td>\n                    <div class=\"mt-0\">{{ camposObrigatorios }}</div>\n                </td>\n                <td>\n                    <botao-icone-editar v-if=\"permitirAcoes\" @ativarEdicao=\"ativarModoEdicao\" />\n                </td>\n            </template>\n            <template v-if=\"modoEdicao || estaInserindo\">\n                <td class=\"v-data-table_selected\">\n                    <v-text-field\n                        v-model=\"value.nome\"\n                        name=\"nome\"\n                        :error-messages=\"errors.collect('nome')\"\n                        placeholder=\"Informe o nome\"\n                        v-validate=\"'required|max:100'\"\n                        counter=\"100\"\n                        maxlength=\"100\"\n                        data-vv-as=\"nome\"\n                        dense\n                        class=\"inputNome\"\n                        @keyup.enter=\"salvar\"\n                        @keyup.esc=\"cancelar\"\n                        @click:append=\"cancelar\"\n                        @click:clear=\"salvar\"/>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <v-radio-group\n                        v-validate=\"'required'\"\n                        v-model=\"value.situacao\"\n                        class=\"checkbox\"\n                        row>\n                        <v-radio label=\"Ativo\" value=\"ATIVO\"/>\n                        <v-radio label=\"Inativo\" value=\"INATIVO\"/>\n                    </v-radio-group>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <v-radio-group\n                        v-validate=\"'required'\"\n                        class=\"checkbox checkbox_execucao_orcamentaria\"\n                        name=\"execucaoOrcamentaria\"\n                        :error-messages=\"errors.collect('execucaoOrcamentaria')\"\n                        v-model=\"value.execucaoOrcamentaria\"\n                        row>\n                        <v-radio label=\"Sim\" :value=\"true\"/>\n                        <v-radio label=\"Não\" :value=\"false\"/>\n                    </v-radio-group>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <v-row class=\"checkbox_campos_obrigatorios\">\n                        <v-checkbox v-model=\"value.empenho\" label=\"Empenho\"/>\n                        <v-checkbox v-model=\"value.notaFiscal\" label=\"Nota fiscal\"/>\n                    </v-row>\n                </td>\n                <td class=\"v-data-table_selected\">\n                        <acoes-icones-salvar-cancelar class=\"pb-3\" @salvar=\"salvar\" @cancelar=\"cancelar\"/>\n                </td>\n            </template>\n        </tr>\n    </v-data>\n</template>\n\n<script>\n    import {mapState} from 'vuex'\n    import AcoesIconesSalvarCancelar from '@/views/components/acoes/AcoesIconesSalvarCancelar'\n    import BotaoIconeEditar from '@/views/components/botoes/BotaoIconeEditar'\n\n    export default {\n        name: 'ReconhecimentoForm',\n        components:{AcoesIconesSalvarCancelar, BotaoIconeEditar},\n        props: {\n            value: {\n                required: true\n            },\n            permitirAcoes: {\n                required: true\n            }\n        },\n        data: () => ({\n            modoEdicao: false,\n        }),\n        watch: {\n            'value.nome': {\n                handler(nome) {\n                    if (nome.length > 100) {\n                        this.value.nome = nome.slice(0, 100)\n                    }\n                }\n            },\n            'value'() {\n                this.desativarModoEdicao()\n            },\n            'todosReconhecimentos.filtros.conteudo'() {\n                this.habilitarAcoes()\n                this.desativarModoEdicao()\n                this.$emit('habilitaBotaoNovo')\n            },\n            'todosReconhecimentos.paginacao'() {\n                this.habilitarAcoes()\n                this.desativarModoEdicao()\n                this.$emit('habilitaBotaoNovo')\n            }\n        },\n        computed: {\n            ...mapState({todosReconhecimentos: state => state.reconhecimento.todosReconhecimentos}),\n            estaInserindo() {\n                if (!this.value.id) {\n                    this.ativarModoEdicao()\n                }\n                return !this.value.id\n            },\n            execucaoOrcamentaria() {\n                return this.value.execucaoOrcamentaria ? 'Sim' : 'Não'\n            },\n            camposObrigatorios() {\n                if (this.value.notaFiscal && this.value.empenho) {\n                    return 'Empenho, Nota Fiscal'\n                }\n                if (this.value.notaFiscal) {\n                    return 'Nota Fiscal'\n                }\n                if (this.value.empenho) {\n                    return 'Empenho'\n                }\n                return '----'\n            }\n        },\n        methods: {\n            ativarModoEdicao() {\n                this.modoEdicao = true\n                this.$validator.resume()\n                this.desativarAcoes()\n                this.$emit('desabilitaBotaoNovo')\n            },\n            cancelar() {\n                this.desativarModoEdicao()\n                this.$emit('cancelarEdicao')\n            },\n            desativarModoEdicao() {\n                this.$validator.pause()\n                this.modoEdicao = false\n            },\n            desativarAcoes() {\n                this.$emit('desativarAcoes')\n            },\n            habilitarAcoes() {\n                this.$emit('habilitarAcoes')\n            },\n            async salvar() {\n                if (await this.validarDadosFormulario()) {\n                    if (this.estaInserindo) {\n                        this.$emit('inserirNovoReconhecimento', this.value)\n                    } else {\n                        this.verificarSeCamposNulos()\n                        this.$emit('atualizarReconhecimento', this.value)\n                    }\n                }\n            },\n            async validarDadosFormulario() {\n                return await this.$validator._base.validateAll()\n            },\n            verificarSeCamposNulos() {\n                if (!this.value.notaFiscal) {\n                    this.value.notaFiscal = false\n                }\n                if (!this.value.empenho) {\n                    this.value.empenho = false\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\">\n    .az-table-list\n        td\n            padding 0 10px !important\n\n    .habilitarEdicao\n        button\n            visibility visible\n\n    .desabilitarEdicao\n        button\n            visibility hidden !important\n\n    .v-input--selection-controls__ripple\n        border-radius: 50%\n        cursor: pointer\n        height: 22px\n        position: absolute\n        -webkit-transition: inherit\n        transition: inherit\n        width: 23px\n        left: -11px\n        top: -6px\n        margin: 7px\n\n    .label_input\n        font-size 15px\n        font-weight bold\n        color #777 !important\n\n    .inputNome\n        margin-top 3px\n        padding-top 3px\n\n    .checkbox\n        i\n            font-size 15px !important\n            margin-left -5px\n\n        label\n            font-size 13px\n            margin-left -5px\n\n    .checkbox_execucao_orcamentaria\n        margin-bottom 3px !important\n        display inline-flex\n\n    .checkbox_campos_obrigatorios\n        padding-bottom 8px\n        i\n            font-size 15px !important\n            margin-left 12px\n\n        label\n            font-size 13px\n            margin-left 5px\n            margin-right 5px\n\n        .v-input--selection-controls__ripple\n            left 0\n\n        .v-input__control\n            height 25px\n\n        .v-input--checkbox\n            padding-top 0\n\n        button\n            margin 0 !important\n            padding 0 !important\n            visibility visible !important\n            display inline-flex !important\n\n    .max-20\n        max-width 20vw\n\n    @media (max-width 720px)\n        .inputNome\n            margin-top 0 !important\n\n    .v-btn--icon.v-size--default .v-icon, .v-btn--fab.v-size--default .v-icon\n        width 2px !important;\n</style>\n"]}]}