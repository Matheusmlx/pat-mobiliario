{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/incorporacao/adicionaritem/itempatrimonio/edicao/IncorporacaoListagemPatrimonios.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/components/modal/incorporacao/adicionaritem/itempatrimonio/edicao/IncorporacaoListagemPatrimonios.vue","mtime":1616610237013},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container-tabela-modal\n    padding 0px 10px\n\n.tabela-modal-incorporacao-itens\n    thead > tr > th\n        font-size: 13px !important\n\n    tr\n        color #777\n        height 55px\n\n    td:hover\n        cursor pointer\n\n    .v-select__selection\n        font-size 13px\n        color #777\n\n    td\n        margin-top 15px !important\n        padding 0 16px !important\n\n    .v-input__slot\n        font-size 0.8em !important\n        max-height 65px !important\n\n    .v-input__slot\n        input\n            color #777\n\n    .tabela-modal-incorporacao-itens td:hover\n        cursor pointer !important\n\n.paginationModal3\n    padding 0 15px\n\n.max-10\n    max-width 10vw\n\n.max-13\n    max-width: 13vw\n",{"version":3,"sources":["IncorporacaoListagemPatrimonios.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA","file":"IncorporacaoListagemPatrimonios.vue","sourceRoot":"src/views/components/modal/incorporacao/adicionaritem/itempatrimonio/edicao","sourcesContent":["<template>\n    <div>\n        <v-row class=\"pl-5\">\n            <incorporacao-listagem-patrimonios-cabecalho :item=\"incorporacaoItem\"/>\n        </v-row>\n        <v-divider></v-divider>\n        <div class=\"container-tabela-modal\">\n            <tipo-veiculo-tabela\n                v-if=\"tipoVeiculo\"\n                :itens=\"itens\"\n                :paginas=\"paginas\"\n                :total-itens=\"totalItens\"\n                :paginacao=\"$store.state.patrimonio.resultadoBuscaTodosPatrimonios.paginacao\"\n                @paginar=\"tratarEventoPaginar\"\n                @atualizarPatrimonio=\"(patrimonio) => atualizarPatrimonioItem(patrimonio)\"/>\n            <tipo-movel-tabela\n                v-if=\"tipoMovel\"\n                :itens=\"itens\"\n                :paginas=\"paginas\"\n                :total-itens=\"totalItens\"\n                :paginacao=\"$store.state.patrimonio.resultadoBuscaTodosPatrimonios.paginacao\"\n                @paginar=\"tratarEventoPaginar\"\n                @atualizarPatrimonio=\"(patrimonio) => atualizarPatrimonioItem(patrimonio)\"/>\n            <tipo-equipamento-armamento-tabela\n                v-if=\"tipoEquipamentoArmamento\"\n                :itens=\"itens\"\n                :paginas=\"paginas\"\n                :total-itens=\"totalItens\"\n                :paginacao=\"$store.state.patrimonio.resultadoBuscaTodosPatrimonios.paginacao\"\n                @paginar=\"tratarEventoPaginar\"\n                @atualizarPatrimonio=\"(patrimonio) => atualizarPatrimonioItem(patrimonio)\"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\n    import {actionTypes, mutationTypes} from '@/core/constants'\n    import {mapActions, mapMutations, mapState} from 'vuex'\n    import IncorporacaoListagemPatrimoniosCabecalho from './IncorporacaoListagemPatrimoniosCabecalho'\n    import TipoMovelTabela from './tipoMovel/TipoMovelTabela'\n    import TipoEquipamentoArmamentoTabela from './tipoEquipamentoArmamento/TipoEquipamentoArmamentoTabela'\n    import TipoVeiculoTabela from './tipoVeiculo/TipoVeiculoTabela'\n    import AzHasPermissions from '@azinformatica/loki/src/utils/AzHasPermissions'\n\n    export default {\n        name: 'IncorporacaoListagemPatrimonios',\n        components: {\n            TipoVeiculoTabela,\n            TipoEquipamentoArmamentoTabela,\n            TipoMovelTabela,\n            IncorporacaoListagemPatrimoniosCabecalho\n        },\n        data() {\n            return {\n                incorporacaoItem: {},\n                itens: [],\n                paginas: 0,\n                totalItens: 0,\n                itemIncorporacaoId: null,\n                incorporacaoId: null\n            }\n        },\n        computed:{\n            tipoMovel() {\n                return this.incorporacaoItem.tipoBem === 'MOVEL'\n            },\n            tipoEquipamentoArmamento() {\n                return this.incorporacaoItem.tipoBem === 'EQUIPAMENTO' || this.incorporacaoItem.tipoBem === 'ARMAMENTO'\n            },\n            tipoVeiculo() {\n                return this.incorporacaoItem.tipoBem === 'VEICULO'\n            },\n            ...mapState({todosPatrimonios: state => state.patrimonio.resultadoBuscaTodosPatrimonios})\n        },\n        async mounted() {\n            this.setItemIncorporacaoId()\n            this.setIncorporacaoId()\n            await this.buscaItemIncorporacao()\n            if (!this.verificaPermissaoEdicao()) {\n                await this.etapaTresVisualizacao()\n            }\n        },\n        watch: {\n            async $route() {\n                this.setItemIncorporacaoId()\n                await this.buscaItemIncorporacao()\n            },\n        },\n        methods: {\n            ...mapActions([\n                actionTypes.PATRIMONIO.BUSCAR_TODOS_PATRIMONIOS,\n                actionTypes.PATRIMONIO.ATUALIZAR_PATRIMONIO,\n                actionTypes.PATRIMONIO.INCORPORACAO.INCORPORACAO_ITEM.BUSCAR_ITEM_INCORPORACAO\n            ]),\n            ...mapMutations([\n                mutationTypes.PATRIMONIO.SET_PAGINACAO_BUSCA_TODOS_PATRIMONIOS,\n                mutationTypes.PATRIMONIO.RESETA_PAGE_PATRIMONIO,\n                mutationTypes.PATRIMONIO.INCORPORACAO.INCORPORACAO_ITEM.DESATIVAR_SALVAMENTO_AUTOMATICO\n            ]),\n            async atualizarPatrimonioItem(item) {\n                this.desabilitarLoadingGlobal()\n                try {\n                    await this.atualizarPatrimonio(item)\n                } catch (err) {\n                    this.desativarSalvamentoAutomatico()\n                    this.mostrarNotificacaoErro(err.response.data.message)\n                    await this.buscaTodosPatrimonios()\n                }\n            },\n            async buscaTodosPatrimonios() {\n                if (this.itemIncorporacaoId) {\n                    const resultado = await this.buscarTodosTodosPatrimonios(this.itemIncorporacaoId)\n                    if (resultado) {\n                        this.itens = resultado.items\n                        this.paginas = resultado.totalPages\n                        this.totalItens = resultado.totalElements\n                    }\n                }\n            },\n            async buscaItemIncorporacao() {\n                if (this.itemIncorporacaoId && this.incorporacaoId) {\n                    this.incorporacaoItem = await this.buscarItemIncorporacao({ idItem: this.itemIncorporacaoId, idIncorporacao: this.incorporacaoId})\n                }\n            },\n            tratarEventoPaginar(paginacao) {\n                this.setPaginacaoBuscaTodosPatrimonios(paginacao)\n                this.resetarPaginacaoSortBy(paginacao)\n                this.buscaTodosPatrimonios()\n            },\n            setItemIncorporacaoId() {\n                if (this.$route.params.itemIncorporacaoId) {\n                    this.itemIncorporacaoId = this.$route.params.itemIncorporacaoId\n                }\n            },\n            setIncorporacaoId() {\n                if (this.$route.params.incorporacaoId) {\n                    this.incorporacaoId = this.$route.params.incorporacaoId\n                }\n            },\n            async etapaTresVisualizacao(){\n                await this.$router.push({\n                    name: 'IncorporacaoItemListagemPatrimoniosVisualizacao',\n                    params: {\n                        itemIncorporacaoId: this.itemIncorporacaoId,\n                        incorporacaoId: this.incorporacaoId\n                    }\n                })\n            },\n            verificaPermissaoEdicao() {\n                return AzHasPermissions(this.$store.state.loki.user.authorities, [\n                    'Mobiliario.Normal',\n                ])\n            },\n            resetarPaginacaoSortBy(paginacao) {\n                if (!paginacao.sortBy[0]) {\n                    this.todosPatrimonios.paginacao.sortBy[0] = paginacao.defaultSortBy\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\">\n    .container-tabela-modal\n        padding 0px 10px\n\n    .tabela-modal-incorporacao-itens\n        thead > tr > th\n            font-size: 13px !important\n\n        tr\n            color #777\n            height 55px\n\n        td:hover\n            cursor pointer\n\n        .v-select__selection\n            font-size 13px\n            color #777\n\n        td\n            margin-top 15px !important\n            padding 0 16px !important\n\n        .v-input__slot\n            font-size 0.8em !important\n            max-height 65px !important\n\n        .v-input__slot\n            input\n                color #777\n\n        .tabela-modal-incorporacao-itens td:hover\n            cursor pointer !important\n\n    .paginationModal3\n        padding 0 15px\n\n    .max-10\n        max-width 10vw\n\n    .max-13\n        max-width: 13vw\n</style>\n"]}]}