{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/configuracao/conta-contabil/listagem/ContaContabilListagemForm.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/configuracao/conta-contabil/listagem/ContaContabilListagemForm.vue","mtime":1614049852957},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.input_conta_contabel\n    padding-top 0 !important\n\n.desabilitarEdicao\n    button\n        visibility hidden !important\n\n.formatContaContabil\n    font-size 13px !important\n\n.label_input\n    font-size 15px\n    font-weight bold\n    color #777 !important\n\n.inputNome\n    margin-top 3px\n    padding-top 3px\n\n.botoes_acoes\n    display inline-flex\n\n    button\n        margin 0 !important\n        padding 0 !important\n        visibility visible !important\n        display inline-flex !important\n\n.max-20\n    max-width 20vw\n\n@media (max-width 720px)\n    .inputNome\n        margin-top 0 !important\n\n.v-btn--icon.v-size--default .v-icon, .v-btn--fab.v-size--default .v-icon\n    width 2px !important;\n",{"version":3,"sources":["ContaContabilListagemForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"ContaContabilListagemForm.vue","sourceRoot":"src/views/pages/configuracao/conta-contabil/listagem","sourcesContent":["<template>\n    <v-data>\n        <tr>\n            <template v-if=\"!modoEdicao\">\n                <td>{{value.codigo}}</td>\n                <td class=\"formatContaContabil\">{{value.descricao}}</td>\n                <td>{{value.tipo | azEnum(tipoContaContabil)}}</td>\n                <td>{{value.tipoBem | azEnum(tipoBem)}}</td>\n                <td>{{depreciavel ? value.vidaUtil : ''}}</td>\n                <td>{{depreciavel ? returnToLocaleStringTaxa(value.percentualResidual) : ''}}</td>\n                <td>\n                    <botao-icone-editar v-if=\"permitirAcoes\" @ativarEdicao=\"ativarModoEdicao\" />\n                </td>\n            </template>\n            <template v-if=\"modoEdicao\" class=\"grey\">\n                <td class=\"v-data-table_selected\">{{value.codigo}}</td>\n                <td class=\"formatContaContabil v-data-table_selected\">{{value.descricao}}</td>\n                <td class=\"v-data-table_selected\">\n                    <az-combo-enum\n                        v-model=\"value.tipo\"\n                        class=\"input_conta_contabel\"\n                        name=\"tipo\"\n                        is-required\n                        :enum-object=\"tipoContaContabil\"\n                        :insert-null-item=\"false\"\n                        placeholder=\"Selecione\"\n                        @input=\"mudarTipo\"/>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <az-combo-enum\n                        v-model=\"value.tipoBem\"\n                        class=\"input_conta_contabel\"\n                        name=\"tipoBem\"\n                        is-required\n                        :enum-object=\"tipoBem\"\n                        :insert-null-item=\"false\"\n                        placeholder=\"Selecione\"/>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <v-text-field\n                        v-if=\"depreciavel\"\n                        v-model=\"value.vidaUtil\"\n                        maxlength=\"6\"\n                        type=\"number\"\n                        class=\"input_conta_contabel\"\n                        min=\"0\"\n                        name=\"vidaUtil\"\n                        v-mask=\"'#####'\"\n                        placeholder=\"Informe vida útil\"\n                        v-validate=\"value.tipo === 'DEPRECIAVEL' ? 'required|max:100' : ''\"\n                        :error-messages=\"errors.collect('vidaUtil')\"/>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <v-text-field\n                        v-if=\"depreciavel\"\n                        v-model=\"value.percentualResidual\"\n                        v-validate=\"value.tipo === 'DEPRECIAVEL' ? 'required|max:100' : ''\"\n                        name=\"percentualResidual\"\n                        type=\"number\"\n                        class=\"input_conta_contabel\"\n                        min=\"0\"\n                        max=\"100\"\n                        step=\".01\"\n                        v-mask=\"'##.##'\"\n                        placeholder=\"Informe % residual\"\n                        :error-messages=\"errors.collect('percentualResidual')\"\n                        :maxLength=\"10\"\n                        :prefix=\"''\"/>\n                </td>\n                <td class=\"v-data-table_selected\">\n                    <acoes-icones-salvar-cancelar @salvar=\"salvar\" @cancelar=\"cancelar\"/>\n                </td>\n            </template>\n        </tr>\n    </v-data>\n</template>\n\n<script>\n    import {mapState} from 'vuex'\n    import AcoesIconesSalvarCancelar from '@/views/components/acoes/AcoesIconesSalvarCancelar'\n    import BotaoIconeEditar from '@/views/components/botoes/BotaoIconeEditar'\n\n    export default {\n        name: 'ContaContabilListagemTabela',\n        components:{BotaoIconeEditar, AcoesIconesSalvarCancelar},\n        props: {\n            value: {\n                required: true\n            },\n            permitirAcoes: {\n                required: true\n            }\n        },\n        data() {\n            return {\n                modoEdicao: false\n            }\n        },\n        computed: {\n            ...mapState(['contaContabil']),\n            depreciavel() {\n                return this.value.tipo !== 'NAO_DEPRECIAVEL'\n            }\n        },\n        watch: {\n            'value'() {\n                this.desativarModoEdicao()\n            },\n            'contaContabil.todasContasContabeis.filtros.conteudo.value'() {\n                this.habilitarAcoes()\n                this.desativarModoEdicao()\n            },\n            'contaContabil.todasContasContabeis.paginacao.page'() {\n                this.habilitarAcoes()\n                this.desativarModoEdicao()\n            }\n        },\n        methods: {\n            ativarModoEdicao() {\n                this.modoEdicao = true\n                this.$validator._base.reset()\n                this.desativarAcoes()\n                this.mudarTipo(this.value.tipo)\n            },\n            cancelar() {\n                this.desativarModoEdicao()\n                this.$emit('cancelarEdicao')\n            },\n            desativarAcoes() {\n                this.$emit('desativarAcoes')\n            },\n            desativarModoEdicao() {\n                this.modoEdicao = false\n                this.$validator._base.reset()\n            },\n            habilitarAcoes() {\n                this.$emit('habilitarAcoes')\n            },\n            async salvar() {\n                if(this.value.vidaUtil === '0'){\n                    this.value.vidaUtil = null\n                }\n                if (await this.validarDadosFormulario()) {\n                    this.desativarModoEdicao()\n                    this.mostrarNotificacaoAviso('Atenção: alterar o tipo da conta contábil não afeta operações realizadas anteriormente')\n                    this.$emit('salvar', this.value)\n                }\n            },\n            async validarDadosFormulario() {\n                return await this.$validator._base.validateAll()\n            },\n            returnToLocaleStringTaxa(dado) {\n                if (typeof dado != 'undefined' && dado != null && dado !== 0) {\n                    return dado.toLocaleString('pt-br', {minimumFractionDigits: 2}) + '%'\n                }\n                return ''\n            },\n            mudarTipo(tipo) {\n                this.$emit('alterarTipo', tipo)\n            }\n        },\n    }\n</script>\n\n<style lang=\"stylus\">\n    .input_conta_contabel\n        padding-top 0 !important\n\n    .desabilitarEdicao\n        button\n            visibility hidden !important\n\n    .formatContaContabil\n        font-size 13px !important\n\n    .label_input\n        font-size 15px\n        font-weight bold\n        color #777 !important\n\n    .inputNome\n        margin-top 3px\n        padding-top 3px\n\n    .botoes_acoes\n        display inline-flex\n\n        button\n            margin 0 !important\n            padding 0 !important\n            visibility visible !important\n            display inline-flex !important\n\n    .max-20\n        max-width 20vw\n\n    @media (max-width 720px)\n        .inputNome\n            margin-top 0 !important\n\n    .v-btn--icon.v-size--default .v-icon, .v-btn--fab.v-size--default .v-icon\n        width 2px !important;\n</style>\n"]}]}