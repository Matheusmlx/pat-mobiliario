{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGerais.vue?vue&type=style&index=0&id=b98ca03e&scoped=true&lang=stylus&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGerais.vue","mtime":1615338558726},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.corpo-conteiner\n    min-height 75vh\n",{"version":3,"sources":["FichaPatrimonioDadosGerais.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA","file":"FichaPatrimonioDadosGerais.vue","sourceRoot":"src/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais","sourcesContent":["<template>\n    <div class=\"corpo-conteiner\">\n        <ficha-patrimonio-dados-gerais-cabecalho :patrimonio=\"patrimonio\"/>\n\n        <ficha-patrimonio-dados-gerais-campos :patrimonio=\"patrimonio\" @atualizarPatrimonio=\"atualizar\"/>\n\n        <ficha-patrimonio-dados-gerais-depreciacao :patrimonio=\"patrimonio\"/>\n\n        <router-view :depreciacoesDoBem=\"depreciacoesDoBem\"/>\n    </div>\n\n</template>\n\n<script>\n    import {mapActions} from 'vuex'\n    import {actionTypes} from '@/core/constants'\n    import _ from 'lodash'\n    import FichaPatrimonioDadosGeraisCabecalho\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCabecalho'\n    import FichaPatrimonioDadosGeraisCampos\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisCampos'\n    import FichaPatrimonioDadosGeraisDepreciacao\n        from '@/views/pages/patrimonios/patrimonio/ficha-patrimonios/dados-gerais/FichaPatrimonioDadosGeraisDepreciacao'\n    export default {\n        name: 'FichaPatrimonioDadosGerais',\n        components: {\n            FichaPatrimonioDadosGeraisDepreciacao,\n            FichaPatrimonioDadosGeraisCampos, FichaPatrimonioDadosGeraisCabecalho},\n        props: {\n            dadosFicha: {\n                type: Object,\n                required: true\n            }\n        },\n        data(){\n            return {\n                patrimonio:{},\n                depreciacoesDoBem: []\n            }\n        },\n        watch: {\n            'dadosFicha'() {\n                this.preencherPatrimonio()\n            }\n        },\n        async mounted() {\n            await this.buscarDepreciacoesDoBem()\n            this.buscarPatrimonio()\n        },\n        methods:{\n            ...mapActions([\n                actionTypes.PATRIMONIO.ATUALIZAR_PATRIMONIO,\n                actionTypes.PATRIMONIO.BUSCAR_DEPRECIACOES,\n                actionTypes.PATRIMONIO.INCORPORACAO.INCORPORACAO_ITEM.IMAGEM.UPLOAD,\n            ]),\n            buscarPatrimonio() {\n                this.$emit('buscarPatrimonio')\n            },\n            preencherPatrimonio() {\n                this.patrimonio = _.cloneDeep(this.dadosFicha)\n            },\n            async atualizar(patrimonio){\n                await this.tratarEventoUploadImagem(patrimonio)\n                const patrimonioNovo = this.criaPatrimonioParaAtualizacao(patrimonio)\n                const resultado = await this.atualizarPatrimonio(patrimonioNovo)\n                if(resultado){\n                    this.setaAtualizacaoDeCamposEditados(resultado)\n                }\n            },\n            async tratarEventoUploadImagem(itemAnexo) {\n                this.desabilitarLoadingGlobal()\n                if (itemAnexo.imagem && typeof itemAnexo.imagem == 'object') {\n                    itemAnexo = { uriImagem: itemAnexo.imagem }\n                    this.patrimonio.uriImagem = await this.uploadImagem(itemAnexo)\n                }\n                if(itemAnexo.imagem === null){\n                    this.patrimonio.uriImagem = null\n                }\n                this.habilitarLoadingGlobal()\n            },\n            criaPatrimonioParaAtualizacao(patrimonio){\n                let patrimonioNovo = {}\n                patrimonioNovo.id = patrimonio.id\n                patrimonioNovo.uriImagem = this.patrimonio.uriImagem\n                patrimonioNovo.placa = patrimonio.placa\n                patrimonioNovo.renavam = patrimonio.renavam\n                patrimonioNovo.licenciamento = patrimonio.licenciamento\n                patrimonioNovo.motor = patrimonio.motor\n                patrimonioNovo.chassi = patrimonio.chassi\n                patrimonioNovo.numeroSerie = patrimonio.numeroSerie\n                return patrimonioNovo\n            },\n            setaAtualizacaoDeCamposEditados(patrimonio){\n                this.patrimonio.imagem = patrimonio.imagem\n                this.patrimonio.placa = patrimonio.placa\n                this.patrimonio.renavam = patrimonio.renavam\n                this.patrimonio.licenciamento = patrimonio.licenciamento\n                this.patrimonio.motor = patrimonio.motor\n                this.patrimonio.chassi = patrimonio.chassi\n                this.patrimonio.numeroSerie = patrimonio.numeroSerie\n            },\n            async buscarDepreciacoesDoBem() {\n                this.desabilitarLoadingGlobal()\n                this.depreciacoesDoBem = await this.buscarDepreciacoes(this.$route.params.patrimonioId)\n                this.habilitarLoadingGlobal()\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n.corpo-conteiner\n    min-height 75vh\n</style>\n"]}]}