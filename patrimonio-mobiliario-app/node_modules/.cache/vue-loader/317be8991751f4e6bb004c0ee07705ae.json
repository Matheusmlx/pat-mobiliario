{"remainingRequest":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/incorporacao/visualizacao/documentos/ListagemDocumentosVisualizar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/src/views/pages/patrimonios/incorporacao/visualizacao/documentos/ListagemDocumentosVisualizar.vue","mtime":1614049852965},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/matheus/Documentos/patrimonio-mobiliario/patrimonio-mobiliario-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ListagemDocumentosAcoes from './ListagemDocumentosAcoesVisualizar'\nimport ListagemDocumentosVazia from './ListagemDocumentosVaziaVisualizar'\nimport ListagemDocumentosItem from './ListagemDocumentosItemVisualizar'\nimport {actionTypes} from '@/core/constants'\nimport {mapActions} from 'vuex'\nimport AzHasPermissions from '@azinformatica/loki/src/utils/AzHasPermissions'\n\nexport default {\n    data() {\n        return {\n            documentos: [],\n            tiposDocumento: [],\n            patrimonio: {},\n            documentoVazio: true,\n            showDesfazer: false,\n            incorporacaoId: null,\n        }\n    },\n    components: {ListagemDocumentosAcoes, ListagemDocumentosItem, ListagemDocumentosVazia},\n    async mounted() {\n        this.setIncorporacaoId()\n        await this.buscarTipoDocumentos()\n        await this.buscarDocumentosIncorporacao()\n    },\n    computed: {\n        verificaPermissaoEdicao() {\n            return AzHasPermissions(this.$store.state.loki.user.authorities, ['Mobiliario.Normal'])\n        },\n    },\n    methods: {\n        ...mapActions([\n            actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.DOCUMENTO_DOWNLOAD,\n            actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.BUSCAR_TIPO_DOCUMENTO,\n            actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.BUSCAR_DOCUMENTOS\n        ]),\n        async baixarAnexo(anexo) {\n            await this.documentoDownload(anexo)\n        },\n        async buscarTipoDocumentos() {\n            const resultado = await this.buscarTipoDocumento()\n            if(resultado) {\n                this.tiposDocumento = this.ordenaTipoDocumentos(resultado)\n            }\n        },\n        ordenaTipoDocumentos(resultado){\n            return resultado.sort(function(a,b) {\n                if(a.descricao < b.descricao){\n                    return -1\n                }else if(a.descricao > b.descricao){\n                    return 1\n                }\n                return 0\n            })\n        },\n        async buscarDocumentosIncorporacao() {\n            this.documentos = await this.buscarDocumentos(this.incorporacaoId)\n        },\n        setIncorporacaoId() {\n            this.incorporacaoId = this.$route.params.incorporacaoId\n        },\n        tratarEventoVoltar() {\n            if (this.verificaPermissaoEdicao) {\n                this.$router.push({\n                    name: 'ItensIncorporacaoListagem',\n                    params: {incorporacaoId: this.incorporacaoId},\n                })\n            } else{\n                this.$router.push({\n                    name: 'VisualizarItensIncorporacao',\n                    params: {incorporacaoId: this.incorporacaoId},\n                })\n            }\n        }\n    }\n}\n",{"version":3,"sources":["ListagemDocumentosVisualizar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListagemDocumentosVisualizar.vue","sourceRoot":"src/views/pages/patrimonios/incorporacao/visualizacao/documentos","sourcesContent":["<template>\n    <v-container fluid>\n        <listagem-documentos-vazia v-if=\"documentos.length === 0\"/>\n\n        <div v-else class=\"incorporacao-documentos pt-5\">\n            <div class=\"d-flex pr-5 justify-end\">\n                <v-btn\n                    disabled\n                    class=\"btn-disabled\"\n                    color=\"primary\"\n                    depressed>\n                    Novo\n                </v-btn>\n            </div>\n            <div :key=\"documento.id\" v-for=\"(documento, index) in documentos\">\n                <listagem-documentos-item\n                    v-model=\"documentos[index]\"\n                    :tipoDocumento=\"tiposDocumento\"\n                    :index=\"index\"\n                    class=\"ml-9\"\n                    @baixarAnexo=\"baixarAnexo\"\n                  />\n            </div>\n        </div>\n\n        <listagem-documentos-acoes :patrimonio=\"patrimonio\" @voltar=\"tratarEventoVoltar\"/>\n    </v-container>\n</template>\n\n<script>\n    import ListagemDocumentosAcoes from './ListagemDocumentosAcoesVisualizar'\n    import ListagemDocumentosVazia from './ListagemDocumentosVaziaVisualizar'\n    import ListagemDocumentosItem from './ListagemDocumentosItemVisualizar'\n    import {actionTypes} from '@/core/constants'\n    import {mapActions} from 'vuex'\n    import AzHasPermissions from '@azinformatica/loki/src/utils/AzHasPermissions'\n\n    export default {\n        data() {\n            return {\n                documentos: [],\n                tiposDocumento: [],\n                patrimonio: {},\n                documentoVazio: true,\n                showDesfazer: false,\n                incorporacaoId: null,\n            }\n        },\n        components: {ListagemDocumentosAcoes, ListagemDocumentosItem, ListagemDocumentosVazia},\n        async mounted() {\n            this.setIncorporacaoId()\n            await this.buscarTipoDocumentos()\n            await this.buscarDocumentosIncorporacao()\n        },\n        computed: {\n            verificaPermissaoEdicao() {\n                return AzHasPermissions(this.$store.state.loki.user.authorities, ['Mobiliario.Normal'])\n            },\n        },\n        methods: {\n            ...mapActions([\n                actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.DOCUMENTO_DOWNLOAD,\n                actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.BUSCAR_TIPO_DOCUMENTO,\n                actionTypes.PATRIMONIO.INCORPORACAO.DOCUMENTO.BUSCAR_DOCUMENTOS\n            ]),\n            async baixarAnexo(anexo) {\n                await this.documentoDownload(anexo)\n            },\n            async buscarTipoDocumentos() {\n                const resultado = await this.buscarTipoDocumento()\n                if(resultado) {\n                    this.tiposDocumento = this.ordenaTipoDocumentos(resultado)\n                }\n            },\n            ordenaTipoDocumentos(resultado){\n                return resultado.sort(function(a,b) {\n                    if(a.descricao < b.descricao){\n                        return -1\n                    }else if(a.descricao > b.descricao){\n                        return 1\n                    }\n                    return 0\n                })\n            },\n            async buscarDocumentosIncorporacao() {\n                this.documentos = await this.buscarDocumentos(this.incorporacaoId)\n            },\n            setIncorporacaoId() {\n                this.incorporacaoId = this.$route.params.incorporacaoId\n            },\n            tratarEventoVoltar() {\n                if (this.verificaPermissaoEdicao) {\n                    this.$router.push({\n                        name: 'ItensIncorporacaoListagem',\n                        params: {incorporacaoId: this.incorporacaoId},\n                    })\n                } else{\n                    this.$router.push({\n                        name: 'VisualizarItensIncorporacao',\n                        params: {incorporacaoId: this.incorporacaoId},\n                    })\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\" scoped>\n    .incorporacao-documentos\n        min-height 62vh\n</style>\n\n\n"]}]}